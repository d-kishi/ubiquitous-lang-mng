# 開発ガイドライン・プロセス改善

## TDD実践・テストファースト原則（2025-01-03更新）

### 発見された問題点
1. **Phase A3→A8実装変更**: テストコードが実装変更に追従できず
2. **テストファースト原則断裂**: 実装先行・テスト後追いによるサイクル断裂
3. **仕様準拠テスト不足**: 機能仕様書2.0-2.1準拠テストの不完全性

### TDD実践改善方針
- **Red-Green-Refactorサイクル厳守**: 全修正でテストファースト実践
- **仕様ベーステスト**: 機能仕様書直接準拠テストケース設計
- **三位一体整合性**: 仕様・実装・テストの継続同期管理

## SubAgent並列実行パターン（実証済み）

### 成功パターン: Stage2並行実行設計
- **並行実行グループ1**: 独立課題の同時実行（spec-compliance + unit-test Agent）
- **並行実行グループ2**: 依存関係課題の順次実行（integration-test Agent）
- **最終確認**: 全修正完了後の統合確認（spec-compliance Agent）

### 品質ゲート設計
1. **段階的確認**: 各グループ完了時のテスト実行・結果確認
2. **測定記録**: .logディレクトリによる実行証跡保存
3. **成功基準**: 定量的目標設定・達成度測定

## 実行計画品質標準

### 実行計画必要要素（品質92/100点達成基準）
1. **具体的コード例**: 修正パターン・テストケース・設定値明示
2. **測定方法**: 定量的成功基準・測定コマンド・証跡保存
3. **依存関係分析**: 並行/順次実行判断・最適化設計
4. **チェックリスト**: 開始前・実行中・完了後確認項目
5. **エラーハンドリング**: 失敗時対策・エスカレーション手順

### ログ管理標準化
```bash
# 標準ログディレクトリ構成
.log/
├── stage2/                   # Stage2実行ログ
├── stage3/                   # Stage3実行ログ
└── {作業名}/                 # 各作業固有ログ

# git管理対象外設定
echo ".log/" >> .gitignore
```

## 品質保証プロセス

### 仕様準拠監査強化
- **原典仕様書直接参照**: 機能仕様書2.0-2.1との直接照合
- **100点満点スコアリング**: 定量的品質評価
- **逸脱項目特定**: 具体的違反箇所・修正方法明示

### アーキテクチャ整合性管理
- **Clean Architecture準拠度**: 定期的スコアリング・改善計画
- **F#層活用推進**: Domain/Application層実装・型安全性活用
- **設計債務管理**: GitHub Issue化・計画的解消
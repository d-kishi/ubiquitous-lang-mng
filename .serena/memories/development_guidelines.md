# 開発ガイドライン（2025-09-16更新）

## 🎯 最新開発方針・プロセス

### ✅ 確立済み品質基準
- **Clean Architecture**: 97点達成・95点以上維持必須
- **0警告0エラー**: 継続維持必須
- **既存機能保護**: admin@ubiquitous-lang.com認証完全保護
- **テスト品質**: 全テスト成功維持

### 🔧 技術実装原則（2025-09-16確立）

#### **F# Domain層活用原則**
- **85%活用基準**: 認証ビジネスロジックの85%をF#で実装
- **Railway-oriented Programming**: Result型による一貫エラーハンドリング
- **AuthenticationError拡張**: 21種類エラー型による包括的エラー処理
- **型安全性**: F# Record型・判別共用体による堅牢な実装

#### **TypeConverter基盤活用**
- **1,539行基盤**: F#↔C#境界最適化・認証特化拡張完成
- **双方向変換**: null安全性・型安全性保証
- **AuthenticationConverter**: 689行・21種類エラー型完全対応
- **パフォーマンス重視**: バッチ変換・メモリ効率化

#### **Clean Architecture遵守**
- **97点品質**: 依存関係適正化・循環依存解決
- **層責務分離**: Domain→Application→Infrastructure→Web明確分離
- **インターフェース依存**: 具象クラス依存完全解消
- **薄いラッパー設計**: Web層責務特化・Infrastructure層委譲

### 📋 プロセス品質（ADR_016準拠）

#### **必須実行プロセス**
- **SubAgent活用**: 専門性活用による品質確保・効率向上
- **段階的実装**: Phase分割・各段階品質確認・回帰テスト実施
- **承認取得**: 重要修正時のユーザー承認・方向性確認

#### **記録・文書化要件**
- **実行記録**: 具体的な実施内容・成果・学習事項記録
- **品質評価**: 定量的・定性的効果測定
- **継続性確保**: 次回セッション準備・引き継ぎ事項整理

## 🏢 Phase A9確立済み制約・要件

### **Phase A9完了基準（達成済み）**
- **F# Domain層85%活用**: 認証ビジネスロジック統一
- **Clean Architecture 97点**: 依存関係適正化・循環依存解消
- **Issue #21根本解決**: 認証処理重複実装統一・保守負荷50%削減

### **技術負債管理**
- **設計債務**: JavaScript層・Infrastructure層の設計債務解消完了
- **アーキテクチャ債務**: Clean Architecture違反の完全解消
- **保守性向上**: コード簡素化・責任分離による長期保守負荷軽減

## 🔄 継続開発指針

### **品質優先開発**
- **設計品質**: 短絡的修正回避・根本的改善優先
- **コード品質**: 可読性・保守性・テスタビリティ重視
- **プロセス品質**: 段階的実行・承認取得・記録完全性

### **技術選定指針**
- **Blazor Server**: Pure Blazor Server統一継続
- **F# Domain**: Railway-oriented Programming活用継続・85%活用基準
- **TypeConverter**: 1,539行基盤の継続拡張・最適化
- **Clean Architecture**: 依存関係逆転原則厳格遵守・97点品質維持
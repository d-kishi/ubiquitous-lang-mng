# 申し送り事項

## 2025-06-28 終了時点の状況

### 完了事項（2025-06-28 セッション）
- ✅ **機能仕様書作成完了**（`/Doc/01_Requirements/機能仕様書.md`）
- ✅ 10章構成、約1,200行の実装レベル詳細仕様書作成
- ✅ 追加要件ファイルの全項目反映（6カテゴリの詳細要件）
- ✅ 既存文書（要件定義書・画面設計書）との整合性確保
- ✅ 機能仕様書修正対応完了（データ管理方針・プロジェクト管理者設定・承認済みデータ編集フロー）

## 2025-06-27 終了時点の状況（前回セッション）

### 完了事項（2025-06-27 夕方セッション）
- ✅ **UI設計書レビュー指摘事項対応完了**（8項目修正）
- ✅ `/Doc/02_Design/UI設計/01_認証・ユーザー管理画面設計.md`（6画面→8画面に修正）
- ✅ `/Doc/02_Design/UI設計/02_プロジェクト・ドメイン管理画面設計.md`（プロジェクト管理者選択削除等）
- ✅ `/Doc/02_Design/UI設計/03_ユビキタス言語業務画面設計.md`（ドメイン列追加、削除権限詳細化等）
- ✅ **機能仕様書作成準備完了**（`/Doc/01_Requirements/Draft/機能仕様書_追加要件.md`）

### 完了事項（2025-06-27 午前セッション）
- ✅ **画面構成設計書作成完了**（3ファイル、全14画面の詳細設計）
- ✅ 画面構成設計追加要件の詳細確認完了
- ✅ ドキュメント管理体制更新（`/Doc/README.md`）

## 2025-06-26 終了時点の状況

### 完了事項（2025-06-26 夕方セッション追加分）
- ✅ **要件定義書作成完了**（`/Doc/01_Requirements/要件定義書.md`）
- ✅ プロジェクトオーナーレビュー対応完了（10項目修正）
- ✅ セッションゴール達成

### 完了事項（2025-06-26 午前セッション）
- ✅ 設計パターン見直し（CQRS → 従来型CRUD）
- ✅ F#適用範囲拡大（Infrastructure層も含む）
- ✅ 詳細要件確認完了（UI動作、競合処理、保存タイミング等）
- ✅ ユーザーロール・権限体系の詳細確定

## 2025-06-25 終了時点の状況

### 完了事項
- ✅ 要件整理完了（技術スタック、エンティティ設計、承認ワークフロー、Claude Code連携、検索機能）
- ✅ ドキュメント管理体制構築（/Doc ディレクトリ構成作成）
- ✅ 会議録作成（`/Doc/03_Meetings/2025-06-25_要件整理.md`）

### 次回実施予定のステップ候補（2025-06-27 更新）

**優先実施項目（要件定義フェーズ完成）**:
1. **機能仕様書作成**
   - 場所: `/Doc/01_Requirements/機能仕様書.md`
   - 内容: 各機能の詳細仕様、ビジネスルール、入力・出力・処理の詳細化

2. **ユーザーストーリー作成**
   - 場所: `/Doc/01_Requirements/ユーザーストーリー.md`
   - 内容: ユーザー視点での機能要求、アクセプタンスクライテリア、優先度設定

**その後の設計フェーズ候補**:
3. **データベース設計書の作成**
   - 場所: `/Doc/02_Design/データベース設計書.md`
   - 内容: エンティティ詳細、ER図、テーブル設計

4. **システム設計書の作成**
   - 場所: `/Doc/02_Design/システム設計書.md`
   - 内容: Clean Architecture詳細設計

5. **技術PoC の実施**
   - 目的: F# + EFCore + Blazor Server の動作検証
   - 記録先: `/Doc/05_Research/PoC結果/`

6. **API設計書作成**
   - 場所: `/Doc/02_Design/API設計書.md`
   - 内容: REST API仕様

### 重要な決定事項（再確認用）

#### 技術スタック（2025-06-26 修正版）
- ASP.NET Core + Blazor Server
- C# (Presentation層・Web API) + F# (ドメイン層・アプリケーション層・Infrastructure層)
- SQLite → PostgreSQL（部門長承認後移行）
- Clean Architecture + DDD + **従来型CRUD**（CQRS削除）

#### エンティティ設計の要点
- ドラフト用語 と 正式用語 は別エンティティ
- プロジェクト → ドメイン領域 → 用語 の階層構造
- 承認フロー: ドラフト → 清書 → 承認 → 正式版

#### UI設計の要点
- Excel風テーブル型インライン編集
- 従来型ページング（無限スクロールは不採用）
- プロジェクト選択必須、他条件任意
- **行単位保存**（行からフォーカスが外れた際に保存実行）
- **先勝ち競合処理**（保存時競合検知、警告表示でキャンセル）

#### ユーザーロール・権限体系（2025-06-26 確定）
- **スーパーユーザー**: 全プロジェクト管理・新規プロジェクト追加
- **プロジェクト管理者**: 担当プロジェクト内管理・ユーザー/ドメイン管理
- **ドメイン承認者**: 担当ドメイン承認・同一プロジェクト他ドメイン参照
- **一般ユーザー**: 担当ドメイン編集・同一プロジェクト他ドメイン参照
- **階層的権限管理**: 上位者が下位者の権限設定

### 次回実施予定の追加項目（2025-06-26 確定）

6. **システム全体の画面構成設計**
   - 全機能を網羅したUI設計
   - 画面遷移設計
   - Claude Code連携の操作フロー含む

7. **ユーザー情報テーブル設計**
   - 独自認証用テーブル設計
   - 将来の社内認証基盤連携を考慮
   - ロール・権限管理のデータ構造

### 次回セッション実施予定（2025-06-28 更新）

**要件定義フェーズ完成**：

1. **ユーザーストーリー作成**（次回セッションで実施）
   - 作成場所: `/Doc/01_Requirements/ユーザーストーリー.md`
   - 実施内容: 
     - 4段階ユーザーロール別のストーリー作成
     - アクセプタンスクライテリアの定義
     - 優先度設定による段階的実装計画
     - Epic・Feature・User Story の階層構造定義

2. **要件定義フェーズ完成確認**
   - 要件定義書・機能仕様書・ユーザーストーリーの整合性確認
   - 設計フェーズ移行の準備完了確認

**設計フェーズ移行後の実施予定**：
3. **データベース設計書作成** (`/Doc/02_Design/データベース設計書.md`)
4. **システム設計書作成** (`/Doc/02_Design/システム設計書.md`)
5. **API設計書作成** (`/Doc/02_Design/API設計書.md`)
6. **技術PoC実施** (F# + Blazor Server + EFCore 動作検証)

### 完了済み項目（参考）

**要件定義関連**:
- ✅ **要件定義書作成完了**（2025-06-26 完了）
- ✅ **機能仕様書作成完了**（2025-06-28 完了）

**画面設計関連**:
- ✅ **画面構成設計詳細要件確認**（2025-06-27 午前完了）
- ✅ **全14画面の画面設計書作成**（2025-06-27 午前完了）
- ✅ **UI設計書レビュー指摘事項対応**（2025-06-27 夕方完了）

**準備作業**:
- ✅ **機能仕様書作成準備**（2025-06-27 夕方完了）

### 今後のセッション運営方針（2025-06-26 確定）

**Claude Code からの積極的な情報要求**：
- 各ステップ進行前に、不足している情報を Claude Code から提示する
- 設計・実装に必要な要件の洗い出しを能動的に実施
- プロジェクトオーナーとの効率的な情報共有を促進

**適用タイミング**：
- 次回セッション以降、全ステップで適用
- 各フェーズ開始時の情報確認を標準化
- 不足情報の早期発見・解決によるスムーズな進行

---

**記録日時**: 2025-06-28  
**記録者**: Claude Code  
**次回対応者**: Claude Code  
**状態**: 機能仕様書作成完了、次セッションでユーザーストーリー作成予定
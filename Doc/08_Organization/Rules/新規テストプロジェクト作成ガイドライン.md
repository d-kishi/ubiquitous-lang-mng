# æ–°è¦ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

**ä½œæˆæ—¥**: 2025-10-13  
**å¯¾è±¡èª­è€…**: é–‹ç™ºè€…ãƒ»SubAgentï¼ˆtech-research/unit-test/integration-testç­‰ï¼‰  
**é©ç”¨ç¯„å›²**: æ–°è¦ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ™‚ã®å…¨å·¥ç¨‹  
**é–¢é€£ADR**: ADR_020ï¼ˆãƒ†ã‚¹ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ±ºå®šï¼‰

---

## ğŸ¯ ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ç›®çš„ãƒ»èƒŒæ™¯

### ç›®çš„
- ãƒ†ã‚¹ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ•´åˆæ€§ç¶­æŒï¼ˆADR_020æº–æ‹ ï¼‰
- Issue #40é¡ä¼¼å•é¡Œã®å†ç™ºé˜²æ­¢
- ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ¨™æº–æ‰‹é †ç¢ºç«‹
- SubAgentã®è‡ªå¾‹çš„ãƒ»æ­£ç¢ºãªä½œæ¥­æ”¯æ´

### èƒŒæ™¯
Issue #40ï¼ˆãƒ†ã‚¹ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å†æ§‹æˆï¼‰ã®è§£æ±ºéç¨‹ã§ä»¥ä¸‹ã®èª²é¡ŒãŒé¡•åœ¨åŒ–ï¼š
- **ãƒ¬ã‚¤ãƒ¤ãƒ¼æ··åœ¨**: å…¨5å±¤ãŒ1ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é›†ç´„
- **ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ—æ··åœ¨**: Unit/IntegrationåŒä¸€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
- **è¨€èªæ··åœ¨**: F#/C#æ··åœ¨ãƒ»`EnableDefaultCompileItems=false`ã«ã‚ˆã‚‹æš«å®šå¯¾å¿œ
- **é‡è¤‡ç®¡ç†**: Domainå±¤ãƒ†ã‚¹ãƒˆãŒ2ã¤ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§é‡è¤‡

7ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆï¼ˆADR_020æº–æ‹ ï¼‰ã‚’ç¢ºç«‹ã—ã€ã“ã‚Œã‚’é•·æœŸç¶­æŒã™ã‚‹ãŸã‚ã®æ¨™æº–æ‰‹é †ã‚’ç­–å®šã€‚

---

## ğŸ” äº‹å‰ç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

æ–°è¦ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ**å‰**ã«ä»¥ä¸‹ã‚’å¿…ãšç¢ºèªã™ã‚‹ã“ã¨ï¼š

### å¿…é ˆç¢ºèªäº‹é …

- [ ] **ãƒ†ã‚¹ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ›¸ç¢ºèª**: `/Doc/02_Design/ãƒ†ã‚¹ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ›¸.md` ã®å†…å®¹ç†è§£
  - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆå›³ãƒ»å‘½åè¦å‰‡ãƒ»å‚ç…§é–¢ä¿‚åŸå‰‡ã®ç¢ºèª
- [ ] **æ—¢å­˜ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ã®é‡è¤‡ç¢ºèª**: åŒä¸€ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ»åŒä¸€ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ—ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå­˜åœ¨ç¢ºèª
- [ ] **ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ»ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ—ã®åˆ†é¡æ˜ç¢ºåŒ–**: ä½œæˆã™ã‚‹ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆ†é¡ã‚’æ˜ç¢ºåŒ–
  - **Layer**: Domain / Application / Contracts / Infrastructure / Web
  - **TestType**: Unit / Integration / UI / E2E
- [ ] **ADR_020æº–æ‹ ç¢ºèª**: `/Doc/07_Decisions/ADR_020_ãƒ†ã‚¹ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ±ºå®š.md` ã®æ±ºå®šäº‹é …ç¢ºèª

---

## ğŸ“¦ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ‰‹é †

### Step 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ

#### F#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆDomain/Applicationå±¤ï¼‰

```bash
# åŸºæœ¬æ§‹æ–‡
dotnet new xunit -lang F# -n {ProjectName}.{Layer}.{TestType}.Tests -o tests/{ProjectName}.{Layer}.{TestType}.Tests

# ä¾‹1: Domainå±¤Unit Tests
dotnet new xunit -lang F# -n UbiquitousLanguageManager.Domain.Unit.Tests -o tests/UbiquitousLanguageManager.Domain.Unit.Tests

# ä¾‹2: Applicationå±¤Unit Tests
dotnet new xunit -lang F# -n UbiquitousLanguageManager.Application.Unit.Tests -o tests/UbiquitousLanguageManager.Application.Unit.Tests
```

#### C#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆContracts/Infrastructure/Webå±¤ï¼‰

```bash
# åŸºæœ¬æ§‹æ–‡
dotnet new xunit -n {ProjectName}.{Layer}.{TestType}.Tests -o tests/{ProjectName}.{Layer}.{TestType}.Tests

# ä¾‹1: Infrastructureå±¤Unit Tests
dotnet new xunit -n UbiquitousLanguageManager.Infrastructure.Unit.Tests -o tests/UbiquitousLanguageManager.Infrastructure.Unit.Tests

# ä¾‹2: Infrastructureå±¤Integration Tests
dotnet new xunit -n UbiquitousLanguageManager.Infrastructure.Integration.Tests -o tests/UbiquitousLanguageManager.Infrastructure.Integration.Tests
```

---

### Step 2: å‘½åè¦å‰‡ç¢ºèª

**å¿…é ˆå‘½åè¦å‰‡**: `{ProjectName}.{Layer}.{TestType}.Tests`

#### Layeré¸æŠ
- **Domain**: ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ãƒ»Value Objectsãƒ»Domain Services
- **Application**: Use Casesãƒ»Application Services
- **Contracts**: DTOsãƒ»Type Convertersï¼ˆF#â†”C#å¢ƒç•Œï¼‰
- **Infrastructure**: Repositoriesãƒ»EF Coreãƒ»å¤–éƒ¨é€£æº
- **Web**: Blazor Componentsãƒ»Pagesãƒ»Web Services

#### TestTypeé¸æŠ
- **Unit**: å˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆãƒ†ã‚¹ãƒˆå¯¾è±¡ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã¿å‚ç…§ï¼‰
- **Integration**: çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆè¤‡æ•°ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ»DBãƒ»å¤–éƒ¨é€£æºï¼‰
- **UI**: UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆï¼ˆBlazor bUnitä½¿ç”¨ï¼‰
- **E2E**: ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆï¼ˆPlaywrightä½¿ç”¨ï¼‰

#### å‘½åè¦å‰‡ç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [ ] `{ProjectName}` = `UbiquitousLanguageManager` ç¢ºèª
- [ ] `{Layer}` = Domain/Application/Contracts/Infrastructure/Web ã®ã„ãšã‚Œã‹
- [ ] `{TestType}` = Unit/Integration/UI/E2E ã®ã„ãšã‚Œã‹
- [ ] `.Tests` ã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹ç¢ºèª
- [ ] ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã®ä¸€è‡´ç¢ºèª

---

### Step 3: è¨€èªãƒ»SDKé¸æŠ

#### è¨€èªé¸æŠåŸå‰‡

| Layer | è¨€èª | ç†ç”± |
|-------|------|------|
| Domain | F# | ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã¯F#ã§å®Ÿè£… |
| Application | F# | ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã¯F#ã§å®Ÿè£… |
| Contracts | C# | DTOsãƒ»Type Convertersã¯C#ã§å®Ÿè£… |
| Infrastructure | C# | EF Coreãƒ»Repositoriesã¯C#ã§å®Ÿè£… |
| Web | C# | Blazor Serverã¯C#ã§å®Ÿè£… |

#### SDKé¸æŠåŸå‰‡

| TestType | SDK | ç†ç”± |
|----------|-----|------|
| Unit | `Microsoft.NET.Sdk` | æ¨™æº–ãƒ†ã‚¹ãƒˆï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ |
| Integration | `Microsoft.NET.Sdk` | æ¨™æº–ãƒ†ã‚¹ãƒˆ |
| UI (bUnit) | `Microsoft.NET.Sdk.Razor` | **Blazor Componentãƒ†ã‚¹ãƒˆã®ãŸã‚å¿…é ˆ** |
| E2E (Playwright) | `Microsoft.NET.Sdk` | æ¨™æº–ãƒ†ã‚¹ãƒˆ |

#### .csproj/.fsproj æ‰‹å‹•ç·¨é›†ï¼ˆå¿…è¦ãªå ´åˆï¼‰

**UI Testsï¼ˆbUnitï¼‰ã®å ´åˆã®ã¿ã€SDKå¤‰æ›´ãŒå¿…è¦**:

```xml
<!-- ä¿®æ­£å‰ -->
<Project Sdk="Microsoft.NET.Sdk">

<!-- ä¿®æ­£å¾Œ -->
<Project Sdk="Microsoft.NET.Sdk.Razor">
```


---

## ğŸ”— å‚ç…§é–¢ä¿‚è¨­å®š

### ADR_020å‚ç…§é–¢ä¿‚åŸå‰‡

å„ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯**ãƒ†ã‚¹ãƒˆå¯¾è±¡ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ãã®ä¾å­˜å±¤ã®ã¿**ã‚’å‚ç…§ã™ã‚‹ã€‚

### Unit Testså‚ç…§é–¢ä¿‚

**åŸå‰‡**: ãƒ†ã‚¹ãƒˆå¯¾è±¡ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã¿å‚ç…§

#### Domain.Unit.Testsï¼ˆF#ï¼‰

```xml
<ItemGroup>
  <!-- ADR_020æº–æ‹ : Unit TestsåŸå‰‡ - ãƒ†ã‚¹ãƒˆå¯¾è±¡ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã¿å‚ç…§ -->
  <ProjectReference Include="..\..\src\UbiquitousLanguageManager.Domain\UbiquitousLanguageManager.Domain.fsproj" />
</ItemGroup>
```

#### Application.Unit.Testsï¼ˆF#ï¼‰

```xml
<ItemGroup>
  <!-- Applicationå±¤ã¯Domainå±¤ã«ä¾å­˜ã™ã‚‹ãŸã‚ã€ä¸¡æ–¹å‚ç…§ -->
  <ProjectReference Include="..\..\src\UbiquitousLanguageManager.Application\UbiquitousLanguageManager.Application.fsproj" />
  <ProjectReference Include="..\..\src\UbiquitousLanguageManager.Domain\UbiquitousLanguageManager.Domain.fsproj" />
</ItemGroup>
```

#### Contracts.Unit.Testsï¼ˆC#ï¼‰

```xml
<ItemGroup>
  <!-- Contractså±¤ã¯Applicationãƒ»Domainå±¤ã«ä¾å­˜ã™ã‚‹ãŸã‚ã€3å±¤å‚ç…§ -->
  <ProjectReference Include="..\..\src\UbiquitousLanguageManager.Contracts\UbiquitousLanguageManager.Contracts.csproj" />
  <ProjectReference Include="..\..\src\UbiquitousLanguageManager.Application\UbiquitousLanguageManager.Application.fsproj" />
  <ProjectReference Include="..\..\src\UbiquitousLanguageManager.Domain\UbiquitousLanguageManager.Domain.fsproj" />
</ItemGroup>
```

### Integration Testså‚ç…§é–¢ä¿‚

**åŸå‰‡**: å¿…è¦ãªä¾å­˜å±¤ã®ã¿å‚ç…§ï¼ˆWebApplicationFactoryä½¿ç”¨æ™‚ã¯å…¨å±¤å‚ç…§ï¼‰

#### Infrastructure.Integration.Testsï¼ˆC#ï¼‰

```xml
<ItemGroup>
  <!-- çµ±åˆãƒ†ã‚¹ãƒˆ: å…¨å±¤å‚ç…§ï¼ˆWebApplicationFactoryä½¿ç”¨ã®ãŸã‚ï¼‰ -->
  <ProjectReference Include="..\..\src\UbiquitousLanguageManager.Infrastructure\UbiquitousLanguageManager.Infrastructure.csproj" />
  <ProjectReference Include="..\..\src\UbiquitousLanguageManager.Application\UbiquitousLanguageManager.Application.fsproj" />
  <ProjectReference Include="..\..\src\UbiquitousLanguageManager.Domain\UbiquitousLanguageManager.Domain.fsproj" />
  <ProjectReference Include="..\..\src\UbiquitousLanguageManager.Web\UbiquitousLanguageManager.Web.csproj" />
  <ProjectReference Include="..\..\src\UbiquitousLanguageManager.Contracts\UbiquitousLanguageManager.Contracts.csproj" />
</ItemGroup>
```

### UI Testså‚ç…§é–¢ä¿‚

**åŸå‰‡**: Webå±¤ã®ã¿å‚ç…§ï¼ˆbUnitæ¨å¥¨ï¼‰

#### Web.UI.Testsï¼ˆC#ï¼‰

```xml
<ItemGroup>
  <!-- UIãƒ†ã‚¹ãƒˆ: Webå±¤ã®ã¿å‚ç…§ï¼ˆbUnitãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ï¼‰ -->
  <ProjectReference Include="..\..\src\UbiquitousLanguageManager.Web\UbiquitousLanguageManager.Web.csproj" />
</ItemGroup>
```

### å‚ç…§é–¢ä¿‚ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] **ãƒ†ã‚¹ãƒˆå¯¾è±¡ãƒ¬ã‚¤ãƒ¤ãƒ¼å‚ç…§ç¢ºèª**: Unit Testsã¯ãƒ†ã‚¹ãƒˆå¯¾è±¡ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã¿ï¼ˆæœ€å°åŒ–åŸå‰‡ï¼‰
- [ ] **ä¸è¦ãªå‚ç…§ã®å‰Šé™¤ç¢ºèª**: å¾ªç’°ä¾å­˜é˜²æ­¢ãƒ»ãƒ“ãƒ«ãƒ‰æ™‚é–“æœ€å°åŒ–
- [ ] **ADR_020å‚ç…§é–¢ä¿‚åŸå‰‡æº–æ‹ ç¢ºèª**: ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ—åˆ¥ã®å‚ç…§é–¢ä¿‚åŸå‰‡ã«æº–æ‹ 
- [ ] **WebApplicationFactoryä½¿ç”¨æ™‚ã®å…¨å±¤å‚ç…§ç¢ºèª**: Integration/E2E Testsã§å¿…è¦ãªå ´åˆ

---

## ğŸ“¦ NuGetãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¿½åŠ 

### Unit Testsï¼ˆF#ï¼‰æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

```bash
# Domain.Unit.Tests / Application.Unit.Tests ä½œæˆå¾Œ
cd tests/UbiquitousLanguageManager.{Layer}.Unit.Tests

# xUnitæœ¬ä½“
dotnet add package xunit
dotnet add package xunit.runner.visualstudio
dotnet add package Microsoft.NET.Test.Sdk

# F#ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
dotnet add package FsUnit.xUnit

# ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®š
dotnet add package coverlet.collector
```

**å®Ÿè£…ä¾‹ï¼ˆDomain.Unit.Tests.fsprojï¼‰**:

```xml
<ItemGroup>
  <PackageReference Include="Microsoft.NET.Test.Sdk" Version="17.11.1" />
  <PackageReference Include="xunit" Version="2.9.0" />
  <PackageReference Include="xunit.runner.visualstudio" Version="2.8.2" />
  <PackageReference Include="coverlet.collector" Version="6.0.2" />
  <PackageReference Include="FsUnit.xUnit" Version="6.0.1" />
</ItemGroup>
```

### Unit Testsï¼ˆC#ï¼‰æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

```bash
# Contracts.Unit.Tests / Infrastructure.Unit.Tests ä½œæˆå¾Œ
cd tests/UbiquitousLanguageManager.{Layer}.Unit.Tests

# xUnitæœ¬ä½“
dotnet add package xunit
dotnet add package xunit.runner.visualstudio
dotnet add package Microsoft.NET.Test.Sdk

# ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ¢ãƒƒã‚¯
dotnet add package FluentAssertions
dotnet add package Moq

# ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®š
dotnet add package coverlet.collector
```

### Integration Testsæ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

```bash
# Infrastructure.Integration.Tests ä½œæˆå¾Œ
cd tests/UbiquitousLanguageManager.Infrastructure.Integration.Tests

# xUnitæœ¬ä½“
dotnet add package xunit
dotnet add package xunit.runner.visualstudio
dotnet add package Microsoft.NET.Test.Sdk

# çµ±åˆãƒ†ã‚¹ãƒˆç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
dotnet add package Microsoft.AspNetCore.Mvc.Testing      # WebApplicationFactory
dotnet add package Microsoft.EntityFrameworkCore.InMemory # InMemoryDB
dotnet add package Testcontainers.PostgreSql              # Testcontainers

# ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®š
dotnet add package coverlet.collector
```

### UI Testsï¼ˆbUnitï¼‰æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

```bash
# Web.UI.Tests ä½œæˆå¾Œï¼ˆSdk="Microsoft.NET.Sdk.Razor" å¿…é ˆï¼‰
cd tests/UbiquitousLanguageManager.Web.UI.Tests

# bUnitæœ¬ä½“
dotnet add package bunit
dotnet add package bunit.web

# xUnitæœ¬ä½“
dotnet add package xunit
dotnet add package xunit.runner.visualstudio
dotnet add package Microsoft.NET.Test.Sdk

# ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ¢ãƒƒã‚¯
dotnet add package FluentAssertions
dotnet add package Moq
```

### E2E Testsï¼ˆPlaywrightï¼‰æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

```bash
# E2E.Tests ä½œæˆå¾Œ
cd tests/UbiquitousLanguageManager.E2E.Tests

# xUnitæœ¬ä½“
dotnet add package xunit
dotnet add package xunit.runner.visualstudio
dotnet add package Microsoft.NET.Test.Sdk

# Playwright
dotnet add package Microsoft.Playwright

# WebApplicationFactoryï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
dotnet add package Microsoft.AspNetCore.Mvc.Testing
```


---

## âœ… ãƒ“ãƒ«ãƒ‰ãƒ»å®Ÿè¡Œç¢ºèªæ‰‹é †

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆå®Œäº†å¾Œã€ä»¥ä¸‹ã®æ‰‹é †ã§å¿…é ˆç¢ºèªã‚’å®Ÿæ–½ã™ã‚‹ã“ã¨ã€‚

### Step 1: ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°

```bash
# æ–°è¦ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã«è¿½åŠ 
dotnet sln add tests/{ProjectName}.{Layer}.{TestType}.Tests

# ä¾‹: Domain.Unit.Testsè¿½åŠ 
dotnet sln add tests/UbiquitousLanguageManager.Domain.Unit.Tests

# ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
dotnet sln list
```

**æœŸå¾…çµæœ**: æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ä¸€è¦§ã«è¡¨ç¤ºã•ã‚Œã‚‹

### Step 2: ãƒ“ãƒ«ãƒ‰ç¢ºèª

```bash
# æ–°è¦ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå€‹åˆ¥ãƒ“ãƒ«ãƒ‰
dotnet build tests/{ProjectName}.{Layer}.{TestType}.Tests

# æˆåŠŸåŸºæº–: 0 Warning/0 Error
```

**ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**:
- å‚ç…§é–¢ä¿‚ã®æ­£ç¢ºæ€§ï¼ˆProjectReferenceç¢ºèªï¼‰
- NuGetãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¾å­˜é–¢ä¿‚ã‚¨ãƒ©ãƒ¼
- F#/C#è¨€èªé¸æŠã®èª¤ã‚Šï¼ˆF#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«C#ãƒ•ã‚¡ã‚¤ãƒ«æ··åœ¨ç­‰ï¼‰

### Step 3: å…¨ä½“ãƒ“ãƒ«ãƒ‰ç¢ºèª

```bash
# ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ãƒ“ãƒ«ãƒ‰
dotnet build

# æˆåŠŸåŸºæº–: 0 Warning/0 Error
```

**é‡è¦**: æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¿½åŠ ã«ã‚ˆã‚Šã€æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰ãŒå£Šã‚Œã¦ã„ãªã„ã“ã¨ã‚’ç¢ºèªã€‚

### Step 4: ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç¢ºèª

```bash
# æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå€‹åˆ¥å®Ÿè¡Œï¼ˆç©ºãƒ†ã‚¹ãƒˆãƒ»ã‚µãƒ³ãƒ—ãƒ«ãƒ†ã‚¹ãƒˆï¼‰
dotnet test tests/{ProjectName}.{Layer}.{TestType}.Tests

# æˆåŠŸåŸºæº–: ãƒ†ã‚¹ãƒˆå®Ÿè¡ŒæˆåŠŸï¼ˆ0ä»¶ã§ã‚‚OKãƒ»ã‚µãƒ³ãƒ—ãƒ«ãƒ†ã‚¹ãƒˆè¿½åŠ æ¨å¥¨ï¼‰

# å…¨ä½“ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
dotnet test

# æˆåŠŸåŸºæº–: å…¨ãƒ†ã‚¹ãƒˆ100%æˆåŠŸ
```

### ãƒ“ãƒ«ãƒ‰ãƒ»å®Ÿè¡Œç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] `dotnet sln add` å®Ÿè¡Œå®Œäº†
- [ ] `dotnet sln list` ã§æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç¢ºèª
- [ ] æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå€‹åˆ¥ãƒ“ãƒ«ãƒ‰æˆåŠŸï¼ˆ0 Warning/0 Errorï¼‰
- [ ] ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ãƒ“ãƒ«ãƒ‰æˆåŠŸï¼ˆ0 Warning/0 Errorï¼‰
- [ ] æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå€‹åˆ¥ãƒ†ã‚¹ãƒˆå®Ÿè¡ŒæˆåŠŸ
- [ ] ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ãƒ†ã‚¹ãƒˆå®Ÿè¡ŒæˆåŠŸï¼ˆ100%ç¶­æŒï¼‰

---

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°æ‰‹é †

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆå®Œäº†å¾Œã€ä»¥ä¸‹ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°ã‚’å¿…é ˆã¨ã™ã‚‹ã€‚

### å¿…é ˆæ›´æ–°å¯¾è±¡

#### 1. ãƒ†ã‚¹ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ›¸æ›´æ–°ï¼ˆ15åˆ†ï¼‰

**ãƒ•ã‚¡ã‚¤ãƒ«**: `/Doc/02_Design/ãƒ†ã‚¹ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ›¸.md`

**æ›´æ–°å†…å®¹**:
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆå›³**: æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¿½åŠ 
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§è¡¨**: æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¡Œè¿½åŠ 
  - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå
  - Layer
  - TestType
  - è¨€èªï¼ˆF#/C#ï¼‰
  - ä¸»è¦NuGetãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
  - å‚ç…§é–¢ä¿‚

#### 2. README.mdæ›´æ–°ï¼ˆ10åˆ†ï¼‰

**ãƒ•ã‚¡ã‚¤ãƒ«**: `/README.md`ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆï¼‰

**æ›´æ–°å†…å®¹**:
- **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ‰‹é †**: æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå€‹åˆ¥å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰è¿½åŠ 

**æ›´æ–°ä¾‹**:

```markdown
### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
dotnet test

# ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥å®Ÿè¡Œ
dotnet test tests/UbiquitousLanguageManager.Domain.Unit.Tests
dotnet test tests/UbiquitousLanguageManager.Application.Unit.Tests
dotnet test tests/UbiquitousLanguageManager.NewLayer.Unit.Tests  # æ–°è¦è¿½åŠ 

# ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ—åˆ¥å®Ÿè¡Œ
dotnet test tests/UbiquitousLanguageManager.*.Unit.Tests
dotnet test tests/UbiquitousLanguageManager.*.Integration.Tests
```

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] ãƒ†ã‚¹ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ›¸æ›´æ–°å®Œäº†ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆå›³ãƒ»ä¸€è¦§è¡¨ï¼‰
- [ ] README.mdæ›´æ–°å®Œäº†ï¼ˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ‰‹é †è¿½è¨˜ï¼‰
- [ ] git commitä½œæˆï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°ã®ã¿ã®ç‹¬ç«‹commitæ¨å¥¨ï¼‰

---

## ğŸš¨ å†ç™ºé˜²æ­¢ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ˆIssue #40æ•™è¨“ï¼‰

æ–°è¦ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ™‚ã€Issue #40é¡ä¼¼å•é¡Œã®å†ç™ºã‚’é˜²æ­¢ã™ã‚‹ãŸã‚ã€ä»¥ä¸‹ã‚’å¿…ãšç¢ºèªã™ã‚‹ã“ã¨ã€‚

### æŠ€è¡“è² å‚µå›é¿

- [ ] **EnableDefaultCompileItems=falseè¨­å®šç¦æ­¢**
  - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ™‚ã«ã“ã®è¨­å®šã‚’è¿½åŠ ã—ãªã„
  - .csproj/.fsprojã« `<EnableDefaultCompileItems>false</EnableDefaultCompileItems>` ãŒå­˜åœ¨ã—ãªã„ã“ã¨ç¢ºèª
  - **ç†ç”±**: Issue #40ã§F#/C#æ··åœ¨ç’°å¢ƒã§ã®ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼æš«å®šå¯¾å¿œã¨ã—ã¦ä½¿ç”¨ã•ã‚Œã€æŠ€è¡“è² å‚µåŒ–

- [ ] **F#/C#æ··åœ¨å›é¿**
  - F#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«C#ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å«ã‚ãªã„
  - C#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«F#ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å«ã‚ãªã„
  - **ç†ç”±**: F#ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯C#ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã§ããªã„ï¼ˆéå»ã«7ä»¶ã®C#â†’F#å¤‰æ›ãŒå¿…è¦ã ã£ãŸï¼‰

- [ ] **ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ—æ··åœ¨å›é¿**
  - 1ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã«è¤‡æ•°ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ—ã‚’æ··åœ¨ã•ã›ãªã„
  - Unit Tests / Integration Tests / UI Tests / E2E Tests ã¯å€‹åˆ¥ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
  - **ç†ç”±**: ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç²’åº¦åˆ¶å¾¡ä¸å¯ãƒ»CI/CDæœ€é©åŒ–å›°é›£

- [ ] **ãƒ¬ã‚¤ãƒ¤ãƒ¼æ··åœ¨å›é¿**
  - 1ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã«è¤‡æ•°ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ãƒ†ã‚¹ãƒˆã‚’æ··åœ¨ã•ã›ãªã„
  - ADR_020ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥åˆ†é›¢åŸå‰‡æº–æ‹ 
  - **ç†ç”±**: è²¬å‹™åˆ†é›¢ã®åŸå‰‡é•åãƒ»å½±éŸ¿ç¯„å›²ä¸æ˜ç¢ºãƒ»ä¿å®ˆæ€§ä½ä¸‹

### è¨­è¨ˆåŸå‰‡ç¢ºèª

- [ ] **ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥åˆ†é›¢ç¢ºèª**
  - 1ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ = 1ãƒ¬ã‚¤ãƒ¤ãƒ¼ Ã— 1ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ—
  - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåãŒ `{ProjectName}.{Layer}.{TestType}.Tests` å½¢å¼

- [ ] **å‚ç…§é–¢ä¿‚æœ€å°åŒ–**
  - Unit Testsã¯ãƒ†ã‚¹ãƒˆå¯¾è±¡ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã¿å‚ç…§
  - ä¸è¦ãªå‚ç…§ã‚’è¿½åŠ ã—ãªã„ï¼ˆãƒ“ãƒ«ãƒ‰æ™‚é–“å¢—åŠ ãƒ»å¾ªç’°ä¾å­˜ãƒªã‚¹ã‚¯ï¼‰
  - ADR_020å‚ç…§é–¢ä¿‚åŸå‰‡ã«æº–æ‹ 

- [ ] **å‘½åè¦å‰‡æº–æ‹ **
  - `{ProjectName}.{Layer}.{TestType}.Tests` å½¢å¼å³å®ˆ
  - Layer: Domain/Application/Contracts/Infrastructure/Web
  - TestType: Unit/Integration/UI/E2E

### å“è³ªç¢ºèª

- [ ] **ãƒ“ãƒ«ãƒ‰ç¢ºèª**
  - æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå€‹åˆ¥ãƒ“ãƒ«ãƒ‰æˆåŠŸï¼ˆ0 Warning/0 Errorï¼‰
  - ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ãƒ“ãƒ«ãƒ‰æˆåŠŸï¼ˆæ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®å½±éŸ¿ãªã—ï¼‰

- [ ] **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç¢ºèª**
  - æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå€‹åˆ¥ãƒ†ã‚¹ãƒˆå®Ÿè¡ŒæˆåŠŸ
  - ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ãƒ†ã‚¹ãƒˆå®Ÿè¡ŒæˆåŠŸï¼ˆæ—¢å­˜ãƒ†ã‚¹ãƒˆ100%ç¶­æŒï¼‰

- [ ] **ADR_020æº–æ‹ ç¢ºèª**
  - ãƒ†ã‚¹ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ›¸ã¨ã®æ•´åˆæ€§ç¢ºèª
  - 7ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆã¨ã®æ•´åˆæ€§ç¢ºèª

---

## ğŸ“‹ ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ï¼ˆãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆï¼‰

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆã‚³ãƒãƒ³ãƒ‰ä¸€è¦§

```bash
# F# Domain Unit Tests
dotnet new xunit -lang F# -n UbiquitousLanguageManager.Domain.Unit.Tests -o tests/UbiquitousLanguageManager.Domain.Unit.Tests

# F# Application Unit Tests
dotnet new xunit -lang F# -n UbiquitousLanguageManager.Application.Unit.Tests -o tests/UbiquitousLanguageManager.Application.Unit.Tests

# C# Contracts Unit Tests
dotnet new xunit -n UbiquitousLanguageManager.Contracts.Unit.Tests -o tests/UbiquitousLanguageManager.Contracts.Unit.Tests

# C# Infrastructure Unit Tests
dotnet new xunit -n UbiquitousLanguageManager.Infrastructure.Unit.Tests -o tests/UbiquitousLanguageManager.Infrastructure.Unit.Tests

# C# Infrastructure Integration Tests
dotnet new xunit -n UbiquitousLanguageManager.Infrastructure.Integration.Tests -o tests/UbiquitousLanguageManager.Infrastructure.Integration.Tests

# C# Web UI Testsï¼ˆSDKå¤‰æ›´å¿…é ˆï¼‰
dotnet new xunit -n UbiquitousLanguageManager.Web.UI.Tests -o tests/UbiquitousLanguageManager.Web.UI.Tests

# C# E2E Tests
dotnet new xunit -n UbiquitousLanguageManager.E2E.Tests -o tests/UbiquitousLanguageManager.E2E.Tests
```

### NuGetãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¿½åŠ ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§

```bash
# F# Unit Testsæ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
dotnet add package xunit && dotnet add package xunit.runner.visualstudio && dotnet add package Microsoft.NET.Test.Sdk && dotnet add package FsUnit.xUnit && dotnet add package coverlet.collector

# C# Unit Testsæ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
dotnet add package xunit && dotnet add package xunit.runner.visualstudio && dotnet add package Microsoft.NET.Test.Sdk && dotnet add package FluentAssertions && dotnet add package Moq && dotnet add package coverlet.collector

# Integration Testsæ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
dotnet add package Microsoft.AspNetCore.Mvc.Testing && dotnet add package Microsoft.EntityFrameworkCore.InMemory && dotnet add package Testcontainers.PostgreSql

# UI Testsï¼ˆbUnitï¼‰æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
dotnet add package bunit && dotnet add package bunit.web

# E2E Testsï¼ˆPlaywrightï¼‰æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
dotnet add package Microsoft.Playwright
```

### ç¢ºèªã‚³ãƒãƒ³ãƒ‰ä¸€è¦§

```bash
# ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ 
dotnet sln add tests/{ProjectName}

# ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ä¸€è¦§ç¢ºèª
dotnet sln list

# ãƒ“ãƒ«ãƒ‰ç¢ºèª
dotnet build tests/{ProjectName}           # å€‹åˆ¥
dotnet build                               # å…¨ä½“

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç¢ºèª
dotnet test tests/{ProjectName}            # å€‹åˆ¥
dotnet test                                # å…¨ä½“

# ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®š
dotnet test --collect:"XPlat Code Coverage"
```

---

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **ADR_020**: `/Doc/07_Decisions/ADR_020_ãƒ†ã‚¹ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ±ºå®š.md` - è¨­è¨ˆæ±ºå®šã®æ ¹æ‹ 
- **ãƒ†ã‚¹ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ›¸**: `/Doc/02_Design/ãƒ†ã‚¹ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ›¸.md` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆå›³ãƒ»å‚ç…§é–¢ä¿‚
- **çµ„ç¹”ç®¡ç†é‹ç”¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ«**: `/Doc/08_Organization/Rules/çµ„ç¹”ç®¡ç†é‹ç”¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ«.md` - ãƒ—ãƒ­ã‚»ã‚¹éµå®ˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

---

## ğŸ”„ æ›´æ–°å±¥æ­´

| æ—¥ä»˜ | æ›´æ–°å†…å®¹ | æ›´æ–°è€… |
|------|---------|-------|
| 2025-10-13 | åˆç‰ˆä½œæˆ | Claude Code |

---

**ä½œæˆè€…**: Claude Code
**æ‰¿èªè€…**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚ªãƒ¼ãƒŠãƒ¼

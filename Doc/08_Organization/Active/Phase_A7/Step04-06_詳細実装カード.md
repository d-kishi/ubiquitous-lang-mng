# Phase A7 Step4-6: å®Œæˆãƒ»çµ±åˆãƒ»å“è³ªä¿è¨¼ - è©³ç´°å®Ÿè£…ã‚«ãƒ¼ãƒ‰

# ğŸ“‹ Step4: Contractså±¤ãƒ»å‹å¤‰æ›å®Œå…¨å®Ÿè£…

## Step4æ¦‚è¦
- **Stepå**: Contractså±¤ãƒ»å‹å¤‰æ›å®Œå…¨å®Ÿè£…
- **æ‰€è¦æ™‚é–“**: 90-120åˆ†  
- **é‡è¦åº¦**: ä¸­ï¼ˆF#/C#å¢ƒç•Œå®Œå…¨å®Ÿè£…ï¼‰
- **SubAgent**: contracts-bridgeãƒ»fsharp-domain

## ğŸ¯ å¯¾å¿œèª²é¡Œä¸€è¦§

### èª²é¡Œ1: TypeConverterå®Ÿè£…ä¸å®Œå…¨
- **å•é¡Œ**: F#â†”C#å‹å¤‰æ›ã®ä¸€éƒ¨æœªå®Ÿè£…
- **å½±éŸ¿**: ä»Šå¾Œã®æ©Ÿèƒ½æ‹¡å¼µæ™‚ã®åˆ¶ç´„
- **è¨¼è·¡**: Contractså±¤ã®éƒ¨åˆ†å®Ÿè£…

### èª²é¡Œ2: FirstLoginRedirectMiddlewareæ··åœ¨åˆ¶å¾¡
- **å•é¡Œ**: /change-passwordæœŸå¾…vs/Account/ChangePasswordå®Ÿè£…ä¸æ•´åˆ
- **å½±éŸ¿**: èªè¨¼ãƒ•ãƒ­ãƒ¼ã®ä¸€è²«æ€§æ¬ å¦‚
- **è¨¼è·¡**: RedirectUrl = "/change-password" vs å®Ÿéš›ãƒ‘ã‚¹ä¸æ•´åˆ

## ğŸ› ï¸ è©³ç´°å®Ÿè£…ã‚¿ã‚¹ã‚¯

### ã‚¿ã‚¹ã‚¯1: TypeConverterå®Œå…¨å®Ÿè£…

#### UbiquitousLanguageTypeConverterå®Ÿè£…
```
ãƒ‘ã‚¹: src/UbiquitousLanguageManager.Contracts/TypeConverters/UbiquitousLanguageTypeConverter.cs
```

```csharp
using UbiquitousLanguageManager.Domain.Entities;
using UbiquitousLanguageManager.Contracts.DTOs.UbiquitousLanguage;

public class UbiquitousLanguageTypeConverter
{
    /// Domain â†’ DTO å¤‰æ›
    public static UbiquitousLanguageDto ToDto(UbiquitousLanguage domain)
    {
        return new UbiquitousLanguageDto
        {
            Id = domain.Id.Value,
            Term = domain.Term.Value,
            Definition = domain.Definition.Value,
            Context = domain.Context?.Value,
            ProjectId = domain.ProjectId.Value,
            DomainId = domain.DomainId?.Value,
            CreatedAt = domain.CreatedAt,
            UpdatedAt = domain.UpdatedAt
        };
    }

    /// DTO â†’ Domain å¤‰æ›
    public static Result<UbiquitousLanguage, string> FromDto(UbiquitousLanguageDto dto)
    {
        try
        {
            var id = UbiquitousLanguageId.Create(dto.Id);
            var term = Term.Create(dto.Term);
            var definition = Definition.Create(dto.Definition);
            var projectId = ProjectId.Create(dto.ProjectId);
            
            var context = string.IsNullOrEmpty(dto.Context) 
                ? null 
                : Context.Create(dto.Context);
                
            var domainId = dto.DomainId.HasValue 
                ? DomainId.Create(dto.DomainId.Value) 
                : null;

            return Result.Ok(UbiquitousLanguage.Create(
                id, term, definition, context, projectId, domainId,
                dto.CreatedAt, dto.UpdatedAt));
        }
        catch (Exception ex)
        {
            return Result.Error($"UbiquitousLanguageå¤‰æ›ã‚¨ãƒ©ãƒ¼: {ex.Message}");
        }
    }
}
```

#### ProjectTypeConverterå®Ÿè£…
```
ãƒ‘ã‚¹: src/UbiquitousLanguageManager.Contracts/TypeConverters/ProjectTypeConverter.cs
```

```csharp
public class ProjectTypeConverter
{
    public static ProjectDto ToDto(Project domain)
    {
        return new ProjectDto
        {
            Id = domain.Id.Value,
            Name = domain.Name.Value,
            Description = domain.Description?.Value,
            CreatedAt = domain.CreatedAt,
            UpdatedAt = domain.UpdatedAt
        };
    }

    public static Result<Project, string> FromDto(ProjectDto dto)
    {
        try
        {
            var id = ProjectId.Create(dto.Id);
            var name = ProjectName.Create(dto.Name);
            var description = string.IsNullOrEmpty(dto.Description) 
                ? null 
                : ProjectDescription.Create(dto.Description);

            return Result.Ok(Project.Create(id, name, description, 
                dto.CreatedAt, dto.UpdatedAt));
        }
        catch (Exception ex)
        {
            return Result.Error($"Projectå¤‰æ›ã‚¨ãƒ©ãƒ¼: {ex.Message}");
        }
    }
}
```

#### DomainTypeConverterå®Ÿè£…
```
ãƒ‘ã‚¹: src/UbiquitousLanguageManager.Contracts/TypeConverters/DomainTypeConverter.cs
```

```csharp
public class DomainTypeConverter
{
    public static DomainDto ToDto(Domain domain)
    {
        return new DomainDto
        {
            Id = domain.Id.Value,
            Name = domain.Name.Value,
            Description = domain.Description?.Value,
            ProjectId = domain.ProjectId.Value,
            CreatedAt = domain.CreatedAt,
            UpdatedAt = domain.UpdatedAt
        };
    }

    public static Result<Domain, string> FromDto(DomainDto dto)
    {
        try
        {
            var id = DomainId.Create(dto.Id);
            var name = DomainName.Create(dto.Name);
            var projectId = ProjectId.Create(dto.ProjectId);
            var description = string.IsNullOrEmpty(dto.Description) 
                ? null 
                : DomainDescription.Create(dto.Description);

            return Result.Ok(Domain.Create(id, name, description, projectId,
                dto.CreatedAt, dto.UpdatedAt));
        }
        catch (Exception ex)
        {
            return Result.Error($"Domainå¤‰æ›ã‚¨ãƒ©ãƒ¼: {ex.Message}");
        }
    }
}
```

### ã‚¿ã‚¹ã‚¯2: FirstLoginRedirectMiddlewareçµ±åˆ

#### Middlewareä¿®æ­£
```
ãƒ‘ã‚¹: src/UbiquitousLanguageManager.Web/Middleware/FirstLoginRedirectMiddleware.cs
```

```csharp
// ä¿®æ­£å‰ï¼ˆä¸æ•´åˆï¼‰
private const string ChangePasswordPath = "/Account/ChangePassword";

// ä¿®æ­£å¾Œï¼ˆBlazorçµ±ä¸€ï¼‰
private const string ChangePasswordPath = "/change-password";

public async Task InvokeAsync(HttpContext context)
{
    if (context.User.Identity?.IsAuthenticated == true)
    {
        var user = await _userManager.GetUserAsync(context.User);
        
        // åˆå›ãƒ­ã‚°ã‚¤ãƒ³åˆ¤å®šï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´ãŒå¿…è¦ï¼‰
        if (user?.RequirePasswordChange == true && 
            !context.Request.Path.StartsWithSegments(ChangePasswordPath))
        {
            context.Response.Redirect(ChangePasswordPath);
            return;
        }
    }

    await _next(context);
}
```

## ğŸ¯ Step4å®Œäº†ç¢ºèªé …ç›®
- [ ] å…¨TypeConverterå®Ÿè£…å®Œäº†ãƒ»å˜ä½“ãƒ†ã‚¹ãƒˆæˆåŠŸ
- [ ] FirstLoginRedirectMiddlewareâ†’/change-passwordæ­£å¸¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
- [ ] åˆå›ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ãƒ­ãƒ¼å®Œå…¨å‹•ä½œç¢ºèª
- [ ] F#â†”C#å‹å¤‰æ›ã‚¨ãƒ©ãƒ¼ãªã—

---

# ğŸ“‹ Step5: UIæ©Ÿèƒ½å®Œæˆãƒ»ç”¨èªçµ±ä¸€

## Step5æ¦‚è¦  
- **Stepå**: UIæ©Ÿèƒ½å®Œæˆãƒ»ç”¨èªçµ±ä¸€
- **æ‰€è¦æ™‚é–“**: 120-150åˆ†
- **é‡è¦åº¦**: ä¸­ï¼ˆUIè¨­è¨ˆæ›¸å®Œå…¨æº–æ‹ ï¼‰
- **SubAgent**: csharp-web-uiãƒ»spec-complianceãƒ»code-review

## ğŸ¯ å¯¾å¿œèª²é¡Œä¸€è¦§

### èª²é¡Œ1: [UI-001] ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å¤‰æ›´ç”»é¢æœªå®Ÿè£…
- **å•é¡Œ**: UIè¨­è¨ˆæ›¸3.2ç¯€è¦æ±‚æ©Ÿèƒ½ã®æœªå®Ÿè£…
- **å½±éŸ¿**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†æ©Ÿèƒ½å®Œæˆåº¦
- **è¨¼è·¡**: å¯¾å¿œãƒšãƒ¼ã‚¸ãªã—

### èª²é¡Œ2: [TERM-001] ç”¨èªçµ±ä¸€å®Œå…¨æ€§  
- **å•é¡Œ**: ADR_003ã€Œãƒ¦ãƒ“ã‚­ã‚¿ã‚¹è¨€èªã€çµ±ä¸€ã®éƒ¨åˆ†çš„é©ç”¨
- **å½±éŸ¿**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç”¨èªä¸€è²«æ€§
- **è¨¼è·¡**: ä¸€éƒ¨ã‚³ãƒ¼ãƒ‰ã§ã€Œç”¨èªã€è¡¨è¨˜æ®‹å­˜

## ğŸ› ï¸ è©³ç´°å®Ÿè£…ã‚¿ã‚¹ã‚¯

### ã‚¿ã‚¹ã‚¯1: ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å¤‰æ›´ç”»é¢å®Ÿè£…

#### ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
```
ãƒ‘ã‚¹: src/UbiquitousLanguageManager.Web/Pages/Auth/Profile.razor
```

#### å®Ÿè£…å†…å®¹
```razor
@page "/profile"
@layout MainLayout
@using UbiquitousLanguageManager.Contracts.DTOs.Authentication
@inject UserManager<ApplicationUser> UserManager
@inject AuthenticationStateProvider AuthenticationStateProvider
@attribute [Authorize]

<PageTitle>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¨­å®š</PageTitle>

<div class="container">
    <div class="row">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h3 class="mb-0">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¨­å®š</h3>
                </div>
                <div class="card-body">
                    <EditForm Model="@model" OnValidSubmit="@HandleSubmit">
                        <DataAnnotationsValidator />
                        <ValidationSummary class="text-danger" />

                        <div class="mb-3">
                            <label for="email" class="form-label">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
                            <InputText id="email" class="form-control" 
                                      @bind-Value="model.Email" readonly />
                            <div class="form-text">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯å¤‰æ›´ã§ãã¾ã›ã‚“</div>
                        </div>

                        <div class="mb-3">
                            <label for="userName" class="form-label">ãƒ¦ãƒ¼ã‚¶ãƒ¼å</label>
                            <InputText id="userName" class="form-control" 
                                      @bind-Value="model.UserName" />
                            <ValidationMessage For="@(() => model.UserName)" />
                        </div>

                        <div class="mb-3">
                            <label for="firstName" class="form-label">å§“</label>
                            <InputText id="firstName" class="form-control" 
                                      @bind-Value="model.FirstName" />
                            <ValidationMessage For="@(() => model.FirstName)" />
                        </div>

                        <div class="mb-3">
                            <label for="lastName" class="form-label">å</label>
                            <InputText id="lastName" class="form-control" 
                                      @bind-Value="model.LastName" />
                            <ValidationMessage For="@(() => model.LastName)" />
                        </div>

                        @if (!string.IsNullOrEmpty(successMessage))
                        {
                            <div class="alert alert-success">@successMessage</div>
                        }

                        @if (!string.IsNullOrEmpty(errorMessage))
                        {
                            <div class="alert alert-danger">@errorMessage</div>
                        }

                        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                            <button type="submit" class="btn btn-primary" disabled="@isProcessing">
                                @if (isProcessing)
                                {
                                    <span class="spinner-border spinner-border-sm me-2"></span>
                                }
                                æ›´æ–°
                            </button>
                            <a href="/change-password" class="btn btn-outline-secondary">
                                ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´
                            </a>
                        </div>
                    </EditForm>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                    <h4 class="mb-0">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±</h4>
                </div>
                <div class="card-body">
                    <dl class="row">
                        <dt class="col-sm-6">ãƒ­ãƒ¼ãƒ«</dt>
                        <dd class="col-sm-6">@currentUserRole</dd>
                        <dt class="col-sm-6">ä½œæˆæ—¥</dt>
                        <dd class="col-sm-6">@createdAt?.ToString("yyyy/MM/dd")</dd>
                        <dt class="col-sm-6">æœ€çµ‚ãƒ­ã‚°ã‚¤ãƒ³</dt>
                        <dd class="col-sm-6">@lastLogin?.ToString("yyyy/MM/dd HH:mm")</dd>
                    </dl>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    private ProfileUpdateDto model = new();
    private string successMessage = string.Empty;
    private string errorMessage = string.Empty;
    private bool isProcessing = false;
    private string currentUserRole = string.Empty;
    private DateTime? createdAt;
    private DateTime? lastLogin;

    protected override async Task OnInitializedAsync()
    {
        var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        var user = await UserManager.GetUserAsync(authState.User);

        if (user != null)
        {
            model = new ProfileUpdateDto
            {
                Email = user.Email ?? string.Empty,
                UserName = user.UserName ?? string.Empty,
                FirstName = user.FirstName ?? string.Empty,
                LastName = user.LastName ?? string.Empty
            };

            var roles = await UserManager.GetRolesAsync(user);
            currentUserRole = roles.FirstOrDefault() ?? "ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼";
            createdAt = user.CreatedAt;
            lastLogin = user.LastLogin;
        }
    }

    private async Task HandleSubmit()
    {
        isProcessing = true;
        successMessage = string.Empty;
        errorMessage = string.Empty;

        try
        {
            var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
            var user = await UserManager.GetUserAsync(authState.User);

            if (user != null)
            {
                user.UserName = model.UserName;
                user.FirstName = model.FirstName;
                user.LastName = model.LastName;

                var result = await UserManager.UpdateAsync(user);

                if (result.Succeeded)
                {
                    successMessage = "ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’æ­£å¸¸ã«æ›´æ–°ã—ã¾ã—ãŸã€‚";
                }
                else
                {
                    errorMessage = string.Join(", ", result.Errors.Select(e => e.Description));
                }
            }
        }
        catch (Exception ex)
        {
            errorMessage = "ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æ›´æ–°ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚";
        }
        finally
        {
            isProcessing = false;
            StateHasChanged();
        }
    }
}
```

#### ProfileUpdateDtoå®Ÿè£…
```
ãƒ‘ã‚¹: src/UbiquitousLanguageManager.Contracts/DTOs/Authentication/ProfileUpdateDto.cs
```

```csharp
public class ProfileUpdateDto
{
    [Required(ErrorMessage = "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯å¿…é ˆã§ã™")]
    [EmailAddress(ErrorMessage = "æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")]
    public string Email { get; set; } = string.Empty;

    [Required(ErrorMessage = "ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯å¿…é ˆã§ã™")]
    [StringLength(50, ErrorMessage = "ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯50æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¦ãã ã•ã„")]
    public string UserName { get; set; } = string.Empty;

    [StringLength(50, ErrorMessage = "å§“ã¯50æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¦ãã ã•ã„")]
    public string FirstName { get; set; } = string.Empty;

    [StringLength(50, ErrorMessage = "åã¯50æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¦ãã ã•ã„")]
    public string LastName { get; set; } = string.Empty;
}
```

### ã‚¿ã‚¹ã‚¯2: ç”¨èªçµ±ä¸€å®Œå…¨å®Ÿè£…

#### å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ã®ç”¨èªç½®æ›
```bash
# æ¤œç´¢ãƒ»ç½®æ›å¯¾è±¡ã®ä¾‹
"ç”¨èª" â†’ "ãƒ¦ãƒ“ã‚­ã‚¿ã‚¹è¨€èª"
"Term" â†’ "UbiquitousLanguage" (é©åˆ‡ãªæ–‡è„ˆã§)
"èªå½™" â†’ "ãƒ¦ãƒ“ã‚­ã‚¿ã‚¹è¨€èª"
"å°‚é–€ç”¨èª" â†’ "ãƒ¦ãƒ“ã‚­ã‚¿ã‚¹è¨€èª"
```

#### ä¸»è¦å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ç¾¤
```
1. src/UbiquitousLanguageManager.Web/Pages/*.razor
2. src/UbiquitousLanguageManager.Web/Shared/*.razor
3. src/UbiquitousLanguageManager.Contracts/DTOs/*.cs
4. src/UbiquitousLanguageManager.Application/*.fs
5. README.md, CLAUDE.mdç­‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
```

## ğŸ¯ Step5å®Œäº†ç¢ºèªé …ç›®
- [ ] /profile ç”»é¢æ­£å¸¸è¡¨ç¤ºãƒ»æ›´æ–°æ©Ÿèƒ½å‹•ä½œ
- [ ] UIè¨­è¨ˆæ›¸3.2ç¯€å®Œå…¨æº–æ‹ 
- [ ] å…¨ã‚³ãƒ¼ãƒ‰å†…ã€Œãƒ¦ãƒ“ã‚­ã‚¿ã‚¹è¨€èªã€çµ±ä¸€å®Œäº†
- [ ] ADR_003å®Œå…¨æº–æ‹ ç¢ºèª

---

# ğŸ“‹ Step6: çµ±åˆå“è³ªä¿è¨¼ãƒ»å®Œäº†ç¢ºèª

## Step6æ¦‚è¦
- **Stepå**: çµ±åˆå“è³ªä¿è¨¼ãƒ»å®Œäº†ç¢ºèª
- **æ‰€è¦æ™‚é–“**: 60-90åˆ†
- **é‡è¦åº¦**: é«˜ï¼ˆPhase A7å®Œäº†åˆ¤å®šï¼‰
- **SubAgent**: spec-complianceãƒ»integration-testãƒ»code-review

## ğŸ¯ å¯¾å¿œèª²é¡Œä¸€è¦§

### èª²é¡Œ1: ãƒ†ã‚¹ãƒˆä¾å­˜é–¢ä¿‚ï¼ˆMEDIUMï¼‰
- **å•é¡Œ**: MvcBlazorRoutingIntegrationTests â†’ HomeControllerä¾å­˜
- **å½±éŸ¿**: MVCå‰Šé™¤æ™‚ã®ãƒ†ã‚¹ãƒˆå¤±æ•—
- **è¨¼è·¡**: ãƒ†ã‚¹ãƒˆã§HomeControllerå‚ç…§

### èª²é¡Œ2: TECH-003å¤§éƒ¨åˆ†è§£æ±ºæ¸ˆã¿ç¢ºèª
- **å•é¡Œ**: é‡è¤‡ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢å‰Šé™¤çŠ¶æ³ã®æœ€çµ‚ç¢ºèª
- **å½±éŸ¿**: æŠ€è¡“è² å‚µå®Œå…¨è§£æ±ºç¢ºèª
- **è¨¼è·¡**: Login.razor ã®ã¿å­˜åœ¨ç¢ºèªæ¸ˆã¿

## ğŸ› ï¸ è©³ç´°å®Ÿè£…ã‚¿ã‚¹ã‚¯

### ã‚¿ã‚¹ã‚¯1: ãƒ†ã‚¹ãƒˆæ›´æ–°ãƒ»çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿæ–½

#### MVCé–¢é€£ãƒ†ã‚¹ãƒˆå‰Šé™¤ãƒ»æ›´æ–°
```
å‰Šé™¤å¯¾è±¡:
src/UbiquitousLanguageManager.Tests/Integration/MvcBlazorRoutingIntegrationTests.cs

ä»£æ›¿å®Ÿè£…:
src/UbiquitousLanguageManager.Tests/Integration/BlazorRoutingIntegrationTests.cs
```

#### Blazorå°‚ç”¨çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè£…
```csharp
[TestClass]
public class BlazorRoutingIntegrationTests
{
    [TestMethod]
    public async Task RootPath_UnauthenticatedUser_RedirectsToLogin()
    {
        // / â†’ /login ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ†ã‚¹ãƒˆ
    }

    [TestMethod]  
    public async Task RootPath_AuthenticatedUser_RedirectsToAdmin()
    {
        // / â†’ /admin/users ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ†ã‚¹ãƒˆ
    }

    [TestMethod]
    public async Task ChangePasswordPath_AuthenticatedUser_DisplaysBlazorPage()
    {
        // /change-password Blazorç”»é¢è¡¨ç¤ºãƒ†ã‚¹ãƒˆ
    }

    [TestMethod]
    public async Task ProfilePath_AuthenticatedUser_DisplaysBlazorPage()
    {
        // /profile Blazorç”»é¢è¡¨ç¤ºãƒ†ã‚¹ãƒˆ
    }
}
```

### ã‚¿ã‚¹ã‚¯2: ä»•æ§˜æº–æ‹ æœ€çµ‚ç›£æŸ»

#### è¦ä»¶æº–æ‹ ç¢ºèªé …ç›®
- [ ] **Pure Blazor Server**: MVCè¦ç´ 0ä»¶
- [ ] **Clean Architecture**: 5å±¤æ§‹é€ ç¶­æŒ
- [ ] **èªè¨¼ã‚·ã‚¹ãƒ†ãƒ **: ASP.NET Core Identityå®Œå…¨çµ±åˆ
- [ ] **URLè¨­è¨ˆ**: 100%Blazorå½¢å¼çµ±ä¸€

#### å“è³ªæŒ‡æ¨™ç¢ºèª
- [ ] **ç·åˆä»•æ§˜æº–æ‹ åº¦**: 90%ä»¥ä¸Šé”æˆ
- [ ] **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å“è³ª**: 85/100ä»¥ä¸Šé”æˆ  
- [ ] **Webå±¤å“è³ª**: 80/100ä»¥ä¸Šé”æˆ

### ã‚¿ã‚¹ã‚¯3: GitHub Issuesæœ€çµ‚ç¢ºèª

#### Issue #5 [COMPLIANCE-001] å®Œäº†ç¢ºèª
- [ ] Phase A1-A6æˆæœã®è¦ä»¶æº–æ‹ ç›£æŸ»å®Œäº†
- [ ] ç™ºè¦‹ã•ã‚ŒãŸå…¨è¦ä»¶é€¸è„±ã®è§£æ¶ˆå®Œäº†
- [ ] å“è³ªç›£æŸ»ãƒ—ãƒ­ã‚»ã‚¹ç¢ºç«‹

#### Issue #6 [ARCH-001] å®Œäº†ç¢ºèª  
- [ ] MVC/Blazoræ··åœ¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å®Œå…¨è§£æ¶ˆ
- [ ] Pure Blazor Serverã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å®Ÿç¾
- [ ] è¦ä»¶é€¸è„±å®Œå…¨è§£æ¶ˆ

### ã‚¿ã‚¹ã‚¯4: æŠ€è¡“è² å‚µå®Œå…¨è§£æ±ºç¢ºèª

#### TECH-003: ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢é‡è¤‡
- [ ] MVCç‰ˆãƒ­ã‚°ã‚¤ãƒ³ç”»é¢å®Œå…¨å‰Šé™¤
- [ ] Login.razorã®ã¿å­˜åœ¨ç¢ºèª
- [ ] èªè¨¼ãƒ•ãƒ­ãƒ¼çµ±ä¸€ç¢ºèª

#### TECH-004: åˆå›ãƒ­ã‚°ã‚¤ãƒ³ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´  
- [ ] /change-passwordå®Ÿè£…å®Œäº†
- [ ] FirstLoginRedirectMiddlewareçµ±åˆå®Œäº†
- [ ] åˆå›ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ãƒ­ãƒ¼å®Œå…¨å‹•ä½œ

#### TECH-005: MVC/Blazoræ··åœ¨
- [ ] MVCè¦ç´ å®Œå…¨å‰Šé™¤
- [ ] Pure Blazor Serverå®Ÿç¾
- [ ] ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£çµ±ä¸€å®Œäº†

## ğŸ¯ Step6å®Œäº†ç¢ºèªé …ç›®

### æ©Ÿèƒ½å®Œå…¨å‹•ä½œç¢ºèª  
- [ ] æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²â†’åˆå›ãƒ­ã‚°ã‚¤ãƒ³â†’ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´â†’ç®¡ç†ç”»é¢ã‚¢ã‚¯ã‚»ã‚¹
- [ ] æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ã‚°ã‚¤ãƒ³â†’ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å¤‰æ›´â†’ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
- [ ] å…¨èªè¨¼ãƒ•ãƒ­ãƒ¼ãƒ»å…¨ç”»é¢æ­£å¸¸å‹•ä½œ

### å“è³ªãƒ»æ€§èƒ½ç¢ºèª
- [ ] `dotnet build` 0 Warning, 0 Error
- [ ] `dotnet test` å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸ
- [ ] èªè¨¼å¿œç­”æ™‚é–“ <500ms
- [ ] SignalRæ¥ç¶šå®‰å®šæ€§ç¢ºèª

### Phase A7ç›®æ¨™é”æˆç¢ºèª
- [ ] **è¦ä»¶æº–æ‹ 90%ä»¥ä¸Š**: å…¨è¦ä»¶é€¸è„±è§£æ¶ˆ
- [ ] **Clean Architectureå®Œå…¨æº–æ‹ **: Pure Blazor Serverå®Ÿç¾  
- [ ] **UIè¨­è¨ˆæ›¸100%æº–æ‹ **: 8ç”»é¢å®Œå…¨å®Ÿè£…
- [ ] **GitHub Issueså®Œå…¨è§£æ±º**: #5ãƒ»#6ã‚¯ãƒ­ãƒ¼ã‚ºå¯èƒ½

---

**å„Stepå®Ÿè£…æ‹…å½“**: æŒ‡å®šSubAgents  
**Phase A7å®Œäº†**: Step6å®Œäº†æ‰¿èªå¾Œ  
**æ¬¡Phase**: Phase B1ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†æ©Ÿèƒ½å®Ÿè£…ï¼‰æº–å‚™å®Œäº†
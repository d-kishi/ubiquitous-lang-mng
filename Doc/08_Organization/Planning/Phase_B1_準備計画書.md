# Phase B1準備計画書 - 新体系テスト適用

**作成日**: 2025-09-25
**目的**: Phase B1で強化版仕様駆動開発体系をテスト適用
**対象Phase**: B1（プロジェクト基本CRUD）
**新体系**: SpecKit概念統合・spec-compliance強化版

## 🎯 Phase B1新体系適用計画

### 適用範囲
```yaml
Phase B1対象機能:
  - プロジェクト作成・編集・削除・一覧表示
  - プロジェクト検索・フィルタ機能
  - プロジェクト権限管理基本機能

技術検証項目:
  - Clean Architecture適用（プロジェクト固有ビジネスロジック）
  - F# Domain層でのProject概念モデリング
  - C# Infrastructure層でのプロジェクトRepository
  - Blazor Serverでのプロジェクト管理画面
```

### 新体系Commands適用計画
```yaml
Phase B1開始前:
  1. spec-validate実行 → 仕様完全性確認
  2. 仕様品質95点以上確保

Phase B1実装中:
  3. 従来体系と並行実行（比較測定）

Phase B1完了時:
  4. spec-compliance-check-enhanced実行
  5. 95点以上品質達成確認
  6. 証跡記録自動生成・保存
```

## 📊 新旧Commands比較・移行計画

### 機能比較表
| 機能 | 従来版 | 強化版 | 改善内容 |
|------|--------|--------|---------|
| **スコアリング** | 項目ベース（87-97点） | 加重スコア（目標95点以上） | 重要度考慮・精度向上 |
| **証跡記録** | 手動確認・記録 | 自動収集・構造化記録 | 効率化・監査証跡強化 |
| **事前検証** | なし | spec-validate新機能 | 仕様品質事前確保 |
| **継続改善** | 手動分析 | 学習機能・パターン蓄積 | 品質向上の自動化 |

### 移行戦略
```yaml
段階的移行:
  Phase B1: 新旧併用・効果測定
  Phase B2以降: 効果確認後、新体系標準化

リスク軽減:
  - 従来Commands保持（フォールバック）
  - 新体系で問題発生時は従来版使用
  - 効果測定データに基づく判断
```

## 🔍 Phase B1事前仕様検証

### spec-validate Command適用対象
```yaml
検証対象仕様書:
  - /Doc/01_Requirements/機能仕様書.md（3章: プロジェクト管理機能）
  - /Doc/02_Design/データベース設計書.md（Projectsテーブル）
  - /Doc/08_Organization/Rules/縦方向スライス実装マスタープラン.md（Phase B1部分）

期待スコア:
  - 仕様完全性: 40点満点中38点以上
  - 実行可能性: 35点満点中33点以上
  - 整合性: 25点満点中23点以上
  - 総合: 100点満点中95点以上
```

### 事前検証での確認ポイント
```yaml
プロジェクト管理仕様の確認:
  - CRUD操作の受け入れ基準明確性
  - プロジェクト権限モデルの整合性
  - UI設計との整合性確認
  - データベース設計との整合性確認

実行可能仕様の確認:
  - サンプルコード構文正確性
  - テストケース実行可能性
  - バリデーションロジック妥当性
```

## 📈 効果測定計画

### 定量的測定指標
```yaml
品質指標:
  従来スコア: 87-97点 → 目標: 95点以上安定
  証跡作成時間: 手動30分 → 自動5分以内
  仕様準拠度: 項目チェック → 加重スコア精密測定

効率指標:
  事前問題発見: spec-validate導入効果
  手戻り削減: 仕様不備による実装修正回数
  レビュー効率: 自動証跡による確認時間短縮
```

### 定性的測定項目
```yaml
使いやすさ:
  - Commands実行の直感性
  - エラーメッセージの分かりやすさ
  - レポート可読性

信頼性:
  - スコアリング精度
  - 誤検知・見逃し率
  - 証跡の網羅性
```

## 🛠️ Phase B1実行時準備事項

### 必要ファイル準備
```yaml
新規Commands:
  - .claude/commands/spec-validate.md ✅
  - .claude/commands/spec-compliance-check-enhanced.md ✅

テンプレート:
  - Doc/Templates/Spec_Compliance_Evidence_Template.md ✅

Phase B1専用:
  - Doc/05_Research/Phase_B1/ ディレクトリ（実行時作成）
```

### 実行手順書
```yaml
Phase B1開始前:
  1. spec-validate実行
     - コマンド: spec-validate
     - 対象: プロジェクト管理機能仕様
     - 期待結果: 95点以上

Phase B1実装中:
  2. 従来spec-compliance-checkも並行実行
     - 比較データ収集
     - 双方の結果記録

Phase B1完了時:
  3. spec-compliance-check-enhanced実行
     - 加重スコアリング適用
     - 自動証跡記録生成
     - 効果測定データ収集
```

## 🎯 成功基準・判定基準

### Phase B1新体系適用成功基準
```yaml
必須達成基準:
  - spec-validate: 95点以上達成
  - spec-compliance-check-enhanced: 95点以上達成
  - 証跡記録: 完全自動生成成功

効果確認基準:
  - 品質スコア: 従来平均92点 → 95点以上
  - 作業効率: 証跡作成時間80%短縮
  - 問題早期発見: spec-validate による事前発見1件以上
```

### 継続適用判定基準
```yaml
継続適用決定:
  - 全成功基準達成
  - 使用感良好（定性評価）
  - 明確な改善効果測定

従来版併用継続:
  - 部分的改善のみ確認
  - 使用感に課題あり
  - 効果が限定的

従来版回帰:
  - 品質低下・問題多発
  - 作業効率悪化
  - 重大な不具合発生
```

## 📅 Phase B1実施時のマイルストーン

### 事前準備（次回セッション前）
```yaml
完了事項:
  ✅ 強化版Commands作成
  ✅ 証跡テンプレート作成
  ✅ 準備計画書作成

次回セッション開始時実施:
  □ spec-validate実行（Phase B1仕様検証）
  □ 検証結果95点以上確認
  □ Phase B1開始承認取得
```

### 実装中（Phase B1実行時）
```yaml
各Step完了時:
  □ 従来Commands実行・記録
  □ 強化版Commands実行・記録
  □ 比較データ蓄積

Phase B1完了時:
  □ 効果測定実施
  □ 継続適用判断
  □ 結果レポート作成
```

## 📋 リスク管理・対処計画

### 想定リスク・対処方針
```yaml
リスク1: 新Commands動作不良
対処: 従来版フォールバック・問題修正後再実行

リスク2: スコア算出異常・誤判定
対処: 手動確認による補正・アルゴリズム調整

リスク3: 証跡生成失敗・不完全
対処: 手動証跡作成・テンプレート修正

リスク4: 作業効率悪化
対処: 手順見直し・Commands改善
```

---

**次回セッション予定**: Phase B1事前準備完了確認・spec-validate実行・Phase B1開始承認
**効果測定完了予定**: Phase B1実装完了時（3-4セッション後想定）
# ADR_014: 定型業務管理3段階成熟化プロセス

**状態**: 承認済み  
**決定日**: 2025-07-17  
**決定者**: Claude Code  
**影響範囲**: Claude Code運用全般・定型業務管理・Hooks運用

## 📋 背景・問題

### 課題
Claude Code での定型業務管理において、以下の問題が発生していた：

1. **AutoCompact による手順忘失**: 重要な定型手順がAutoCompactで失われるリスク
2. **試験段階での固定化**: 改善途中の手順を性急にHooks化してしまう問題
3. **効果測定不足**: 手法の有効性を測定せずに正式採用する問題
4. **柔軟性と継続性の両立困難**: 改善の柔軟性とAutoCompact耐性の両立が困難

### 機会
- Hooksスクリプトの AutoCompact 完全耐性
- CLAUDE.md・ADR での柔軟な改善・試験運用
- 週次振り返りでの定期的な評価・判断機会

## 🎯 決定内容

### **3段階成熟化プロセス**の正式採用

#### **Stage 1: 試験運用（CLAUDE.md・ADR）**
**目的**: 手法の有効性検証・プロセス改善

**特徴**:
- 柔軟性重視・頻繁な修正・効果測定
- AutoCompact影響下での学習・改善
- 迅速な試行錯誤・プロセス最適化

**記録場所**: CLAUDE.md・関連ADR・日次記録

**期間**: 2-4週間（効果測定に十分な期間）

#### **Stage 2: 効果測定・最適化**
**目的**: 定量・定性評価による正式採用判断

**特徴**:
- 継続的改善・パフォーマンス測定
- 効果実証・安定性確認
- 最終的な手順標準化

**評価方法**:
- 定量指標（時間効率・エラー削減・完了率）
- 定性指標（使いやすさ・品質向上・満足度）
- 継続性確認（AutoCompact影響・再現性）

**判断タイミング**: 週次振り返り（weekly_review_hook.sh）

#### **Stage 3: 正式採用（Hooks化）**
**目的**: AutoCompact対策・確実な実行保証

**特徴**:
- 手順固定・自動化・安定運用
- 完全な継続性・品質保証
- 標準化された実行プロセス

**実装**: Hooksスクリプト（AutoCompact完全耐性）

## 📊 判断基準

### **Hooks化すべき条件**
✅ **効果が実証された定型手順**
- 定量・定性評価で明確な改善効果
- 継続的な価値提供の確認

✅ **AutoCompactで失われると重大な影響**
- 手順忘失による品質低下・効率悪化
- プロジェクト継続性への重大なリスク

✅ **頻繁に実行される重要プロセス**
- 日次・週次・セッション毎の定期実行
- プロジェクト成功に直結する作業

✅ **手順が安定化・標準化された**
- プロセスが収束・変更頻度低下
- 明確な実行手順・判断基準確立

### **CLAUDE.md・ADRに留めるべき条件**
⚠️ **まだ試験段階・改善中の手法**
- 効果測定が不十分・改善継続中
- 手順が頻繁に変更される状況

⚠️ **実行頻度が低い・一時的な手順**
- 月次以下の実行頻度
- 特定時期・条件でのみ実行

⚠️ **判断や創造性が必要な作業**
- 状況に応じた柔軟な判断が必要
- 標準化に適さない創造的作業

⚠️ **プロジェクト固有の内容**
- 他のプロジェクトで再利用困難
- 汎用性の低い特殊な手順

## 🔄 運用プロセス

### **週次振り返りでの評価**
1. **候補特定**: 現在Stage 1・2の定型業務を確認
2. **評価実施**: 上記判断基準に基づく評価
3. **Hooks化決定**: 基準を満たす業務のHooks化実装
4. **継続監視**: 既存Hooksの効果・改善検討

### **実装プロセス**
1. **Hooksスクリプト作成**: 標準化された手順の実装
2. **既存記録の簡素化**: CLAUDE.md・ADRからの定型手順削除
3. **効果測定**: Hooks化後の効果検証
4. **継続改善**: 必要に応じたHooks機能拡張

## 📈 期待効果

### **短期効果**
- AutoCompact耐性による継続性確保
- 定型作業の確実な実行保証
- 品質向上・エラー削減

### **中期効果**
- プロセス標準化による効率向上
- 知見蓄積・パターン化
- 新メンバーへの迅速な手法伝承

### **長期効果**
- 組織学習の加速
- 継続的改善文化の確立
- 品質・効率の持続的向上

## 📚 実例・パターン集

### **成功事例（2025-07-17実施）**
1. **組織管理サイクル**: ADR_013 → 効果測定 → step_start_hook.sh・step_completion_hook.sh
2. **セッション管理**: CLAUDE.md → 簡素化 → session_start_hook.sh・session_end_hook.sh・session_record_hook.sh
3. **継続的改善**: 独立Hook → 統合最適化 → session_record_hook.sh統合

### **判断プロセス例**
```
Stage 1 (2週間): CLAUDE.mdで試験運用
↓
Stage 2 (1週間): 効果測定・最適化
↓
週次振り返り: 判断基準評価
↓
Stage 3: Hooks化実装・CLAUDE.md簡素化
```

## 🎯 成功指標

### **定量指標**
- Hooks化後の実行確実性: 100%
- 手順忘失による問題発生: 0件
- 定型作業の効率化: 30%以上向上

### **定性指標**
- プロセス品質の向上
- 継続性・再現性の確保
- 開発効率・満足度向上

## 💡 注意事項

### **過度なHooks化の回避**
- 柔軟性が必要な作業は Stage 1・2 に留める
- 頻繁な変更が予想される手順は慎重に判断
- 創造性・判断力が必要な作業は対象外

### **継続的見直し**
- 既存Hooksの効果・必要性を定期評価
- 不要になったHooksの削除・統合
- 新しい定型業務の継続的発見・評価

## 🔄 関連文書

- **weekly_review_hook.sh**: 週次振り返りでの評価プロセス
- **CLAUDE.md**: Stage 1での試験運用記録
- **日次記録**: 効果測定・改善提案の記録
- **各種Hooksスクリプト**: Stage 3での実装例

---

**この決定により、Claude Code での定型業務管理において、柔軟性と継続性を両立する体系的なプロセスが確立される。**
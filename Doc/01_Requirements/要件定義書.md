# ユビキタス言語管理システム 要件定義書

**プロジェクト名**: ユビキタス言語管理システム  
**バージョン**: 1.0  
**作成日**: 2025-06-26  
**最終更新**: 2025-06-26  
**承認者**: プロジェクトオーナー  

## 1. システム概要

### 1.1 プロジェクト背景・目的

ドメイン駆動設計（DDD）におけるユビキタス言語の管理を効率化するWebアプリケーションシステムを構築する。現在、プロジェクトで使用される用語の定義や管理が散在しており、チーム間での用語の一貫性確保、新規参画者への知識移転、Claude Code等の外部ツールとの連携において課題が発生している。

本システムにより、用語の一元管理、承認ワークフローによる品質担保、外部ツール連携による効率化を実現する。

### 1.2 システムの目標

- **用語の一元管理**: プロジェクト・ドメイン別の体系的な用語管理
- **品質担保**: 承認ワークフローによる用語定義の正確性確保
- **効率的な入力**: ミーティング中の素早い用語入力・編集
- **外部連携**: Claude Code等への効率的な情報提供
- **知識共有**: チーム間での用語理解の統一と新規参画者の学習支援

### 1.3 システム利用者

- **スーパーユーザー**: システム全体の管理者
- **プロジェクト管理者**: プロジェクト単位の管理者
- **ドメイン承認者**: 特定ドメインの承認権限者
- **一般ユーザー**: 用語の作成・編集を行う開発者・ビジネス関係者

## 2. 機能要件

### 2.1 主要機能概要

#### 2.1.1 用語管理機能
- **用語作成・編集**: ドラフト用語の作成・編集
- **用語承認**: 承認ワークフローによる正式用語化
- **用語検索**: プロジェクト・ドメイン・条件での用語検索
- **用語関連付け**: 類義語・上位概念との関連管理

#### 2.1.2 プロジェクト・ドメイン管理機能
- **プロジェクト管理**: システムが扱うプロジェクトの管理
- **ドメイン領域管理**: プロジェクト内のドメイン分割管理
- **階層管理**: プロジェクト → ドメイン → 用語の3階層管理

#### 2.1.3 ユーザー・権限管理機能
- **ユーザー管理**: ユーザー登録・編集・削除
- **権限管理**: 4段階の階層的権限管理
- **認証機能**: 独自ログイン機能（将来的に社内認証基盤連携）

#### 2.1.4 承認ワークフロー機能
- **承認申請**: ドラフト用語の承認申請
- **承認・却下**: 権限に基づく承認・却下処理
- **承認ルール**: ドメイン別承認者設定・承認権限判定

#### 2.1.5 外部連携機能
- **Claude Code連携**: Markdown形式での用語辞書出力
- **ファイル出力**: プロジェクト単位・ドメイン単位での出力

### 2.2 データ構造概要

#### 2.2.1 用語管理の基本構造
```
プロジェクト
├── ドメイン領域A（承認者設定）
│   ├── ドラフト用語1
│   ├── ドラフト用語2
│   └── 正式用語1
└── ドメイン領域B
    └── 正式用語2
```

#### 2.2.2 用語エンティティ
- **ドラフト用語**: 和名（必須）、英名・定義・ドメイン領域・発生機会・関連用語・備考（任意）
- **正式用語**: 和名・英名・定義・ドメイン領域（必須）、発生機会・関連用語・備考（任意）

#### 2.2.3 承認ワークフロー
```
新規: ドラフト → 清書（必須項目入力）→ 承認 → 正式版作成
編集: 正式版 → ドラフト作成（編集用）→ 清書 → 承認 → 正式版更新
```

### 2.3 ユーザーインターフェース要件

#### 2.3.1 基本UI方針
- **テーブル型UI**: Excel風のインライン編集機能
- **リアルタイム編集**: ミーティング中の素早い入力に対応
- **ページング**: 従来型ページャ（50/100/200件選択可能）
- **対象環境**: PC（FullHD解像度対応）

#### 2.3.2 検索・絞り込み機能
- **必須条件**: プロジェクト選択
- **任意条件**: ドメイン領域、状態、更新日時、用語名、定義文、発生機会

## 3. 非機能要件

### 3.1 性能要件
- **応答速度**: 通常操作3秒以内、検索・一覧表示5秒以内
- **同時接続**: 最大50ユーザーの同時利用
- **データ容量**: 初期段階で1万件の用語管理

### 3.2 可用性要件
- **稼働時間**: 平日9:00-18:00の業務時間内99%以上
- **バックアップ**: 日次自動バックアップ
- **復旧時間**: 障害発生時24時間以内の復旧
- **注記**: 上記要件は初期段階では対応せず、運用開始後段階的に対応

### 3.3 セキュリティ要件
- **認証**: ユーザーID・パスワードによる認証
- **認可**: ロールベースアクセス制御（RBAC）
- **データ保護**: 個人情報・機密情報の適切な管理

### 3.4 保守性要件
- **ログ出力**: システム操作・エラーログの記録
- **監視**: システム稼働状況の監視
- **更新容易性**: 機能追加・修正の容易な設計

## 4. 技術要件

### 4.1 アーキテクチャ方針
- **基本方針**: Clean Architecture（レイヤード構造による依存関係の整理）
- **データアクセス**: 従来型CRUD
- **実装言語**: F#（ビジネスロジック）+ C#（Infrastructure層・Presentation・Web API層）

**修正理由**: EF Core・ASP.NET Core Identityとの統合性、開発効率、保守性を考慮してInfrastructure層はC#に変更

### 4.2 技術スタック

#### 4.2.1 フロントエンド
- **フレームワーク**: Blazor Server
- **リアルタイム通信**: SignalR（Blazor Server内蔵）
- **UI**: Bootstrap/SCSS

#### 4.2.2 バックエンド
- **アプリケーション**: ASP.NET Core
- **Web API**: ASP.NET Core Web API
- **言語**: F#（主要ロジック）、C#（プレゼンテーション）

#### 4.2.3 データベース
- **初期**: SQLite（開発・テスト用）
- **本格運用**: PostgreSQL（部門長承認後移行）
- **ORM**: Entity Framework Core

#### 4.2.4 インフラ
- **デプロイ**: 1サーバー統合構成
- **OS**: Windows Server または Linux
- **Webサーバー**: IIS または Kestrel

### 4.3 開発・運用要件
- **開発環境**: Visual Studio/VS Code
- **バージョン管理**: Git
- **CI/CD**: GitHub Actions または Azure DevOps
- **監視**: Application Insights

## 5. 制約事項・前提条件

### 5.1 技術的制約
- **F#学習コスト**: 開発チームのF#学習期間を考慮
- **Blazor Server制約**: 大量データ処理時の性能限界
- **同時編集制限**: 競合処理の複雑性

### 5.2 運用制約
- **段階的導入**: SQLite → PostgreSQL の段階的移行
- **認証基盤**: 将来的な社内認証基盤との連携
- **バックアップ**: 手動バックアップから自動化への移行

### 5.3 スケジュール制約
- **移行期間**: 既存データの移行・検証期間
- **運用開始**: 段階的リリース

## 6. 将来拡張予定

### 6.1 機能拡張
- **通知機能**: 承認・却下時の通知機能
- **API拡張**: 外部システムとのAPI連携
- **レポート機能**: 用語利用状況・統計レポート

### 6.2 技術拡張
- **マイクロサービス化**: 規模拡大時のアーキテクチャ変更
- **クラウド移行**: Azure/AWS等のクラウド環境への移行
- **AI連携**: 用語定義の自動生成・推薦機能

### 6.3 連携拡張
- **Slack/Teams連携**: チャットツールとの連携
- **外部ドキュメント連携**: Azure DevOps/Confluence/SharePoint連携
- **開発ツール連携**: IDE・開発ツールとの連携

## 7. 成功基準

### 7.1 機能的成功基準
- 用語管理の一元化完了
- 承認ワークフロー正常稼働
- Claude Code連携によるドキュメント生成・アプリケーション製造

### 7.2 非機能的成功基準
- 性能要件達成（応答速度・同時接続）
- 可用性要件達成（稼働率・復旧時間）
- セキュリティ要件達成（認証・認可）

### 7.3 ユーザー満足度
- ミーティング中の入力効率向上
- チーム間の用語理解統一
- 新規参画者の学習期間短縮

---

**承認履歴**
- 2025-06-26: プロジェクトオーナー承認
- 2025-06-26: Claude Code作成

**関連文書**
- 会議録: `/Doc/03_Meetings/2025-06-25_要件整理.md`
- 会議録: `/Doc/03_Meetings/2025-06-26_詳細要件確定.md`
- 申し送り事項: `/Doc/03_Meetings/申し送り事項.md`

**次工程**
- 機能仕様書作成 (`/Doc/01_Requirements/機能仕様書.md`)
- システム設計書作成 (`/Doc/02_Design/システム設計書.md`)
- データベース設計書作成 (`/Doc/02_Design/データベース設計書.md`)
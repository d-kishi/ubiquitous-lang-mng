# GitHub Codespacesç’°å¢ƒã§ã®DevContaineræ§‹ç¯‰æ‰‹é †

**ä½œæˆæ—¥**: 2025-11-11
**å¯¾è±¡**: GitHub Codespacesç’°å¢ƒã§ã®Claude Code CLIçµ±åˆ
**ç›®çš„**: ãƒ–ãƒ©ãƒ³ãƒåˆ‡ã‚Šæ›¿ãˆãƒ»Codespaceså†ä½œæˆã«å¯¾å¿œã—ãŸå†ç¾å¯èƒ½ãªé–‹ç™ºç’°å¢ƒæ§‹ç¯‰

---

## ğŸ“‹ ç›®æ¬¡

1. [æ¦‚è¦](#æ¦‚è¦)
2. [GitHub Codespacesç’°å¢ƒã®ç‰¹å¾´](#github-codespacesç’°å¢ƒã®ç‰¹å¾´)
3. [Claude Code CLIçµ±åˆã®ç†ç”±](#claude-code-cliçµ±åˆã®ç†ç”±)
4. [æ§‹ç¯‰æ‰‹é †](#æ§‹ç¯‰æ‰‹é †)
5. [ç’°å¢ƒå¤‰æ•°è¨­å®š](#ç’°å¢ƒå¤‰æ•°è¨­å®š)
6. [DevContainerå†ãƒ“ãƒ«ãƒ‰](#devcontainerå†ãƒ“ãƒ«ãƒ‰)
7. [å‹•ä½œç¢ºèª](#å‹•ä½œç¢ºèª)
8. [ãƒ­ãƒ¼ã‚«ãƒ«DevContainerã¨ã®é•ã„](#ãƒ­ãƒ¼ã‚«ãƒ«devcontainerã¨ã®é•ã„)
9. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
10. [å‚è€ƒè³‡æ–™](#å‚è€ƒè³‡æ–™)

---

## æ¦‚è¦

### ç›®çš„

GitHub Codespacesç’°å¢ƒã§**Claude Code CLIã‚’è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**ã—ã€ä»¥ä¸‹ã‚’å®Ÿç¾ã™ã‚‹ï¼š

- âœ… ãƒ–ãƒ©ãƒ³ãƒåˆ‡ã‚Šæ›¿ãˆã«å¯¾å¿œï¼ˆã©ã®ãƒ–ãƒ©ãƒ³ãƒã§ã‚‚å‹•ä½œï¼‰
- âœ… Codespaceså†ä½œæˆã«å¯¾å¿œï¼ˆæ‰‹å‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸è¦ï¼‰
- âœ… å†ç¾å¯èƒ½ãªé–‹ç™ºç’°å¢ƒï¼ˆãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼å…¨å“¡ãŒåŒã˜ç’°å¢ƒï¼‰
- âœ… ãƒ—ãƒªãƒ“ãƒ«ãƒ‰æ©Ÿèƒ½æ´»ç”¨ï¼ˆèµ·å‹•æ™‚é–“çŸ­ç¸®ï¼‰

### å®Ÿè£…æ–¹å¼

**Dockerfileã« Claude Code CLI ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’çµ„ã¿è¾¼ã‚€**

- ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã«çµ„ã¿è¾¼ã‚€ãŸã‚æ¯å›ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸è¦
- ãƒ“ãƒ«ãƒ‰æ™‚ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³å›ºå®šãŒå¯èƒ½
- postCreateCommandã§æ¯å›ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ–¹å¼ã‚ˆã‚Šé«˜é€Ÿ

---

## GitHub Codespacesç’°å¢ƒã®ç‰¹å¾´

### GitHub Codespacesã¨ã¯

- **å®šç¾©**: GitHubæä¾›ã®ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ™ãƒ¼ã‚¹é–‹ç™ºç’°å¢ƒï¼ˆVS Code Webç‰ˆï¼‰
- **ç‰¹å¾´**: DevContainerã‚’ã‚¯ãƒ©ã‚¦ãƒ‰ä¸Šã§å‹•ä½œã•ã›ã‚‹
- **åˆ©ç”¨ã‚·ãƒ¼ãƒ³**: ãƒªãƒ¢ãƒ¼ãƒˆé–‹ç™ºãƒ»ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã®é–‹ç™ºãƒ»ãƒãƒ¼ãƒ ç’°å¢ƒçµ±ä¸€

### ãƒ­ãƒ¼ã‚«ãƒ«DevContainerã¨ã®é•ã„

| é …ç›® | ãƒ­ãƒ¼ã‚«ãƒ«DevContainer | GitHub Codespaces |
|------|---------------------|-------------------|
| å®Ÿè¡Œç’°å¢ƒ | ãƒ­ãƒ¼ã‚«ãƒ«Dockerã‚³ãƒ³ãƒ†ãƒŠ | GitHub ã‚¯ãƒ©ã‚¦ãƒ‰ã‚³ãƒ³ãƒ†ãƒŠ |
| èµ·å‹•æ–¹æ³• | VS Codeã€ŒReopen in Containerã€ | GitHubã€ŒCreate codespaceã€ |
| æ°¸ç¶šåŒ– | ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ã‚£ã‚¹ã‚¯ | Codespacesæ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ |
| ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ | ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ | GitHub ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ |
| ã‚³ã‚¹ãƒˆ | ç„¡æ–™ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ãƒªã‚½ãƒ¼ã‚¹ï¼‰ | æœˆ60æ™‚é–“ç„¡æ–™+è¿½åŠ æ–™é‡‘ |
| ãƒ—ãƒªãƒ“ãƒ«ãƒ‰ | æœªå¯¾å¿œ | å¯¾å¿œï¼ˆèµ·å‹•æ™‚é–“çŸ­ç¸®ï¼‰ |

### Codespacesç‰¹æœ‰ã®è€ƒæ…®äº‹é …

1. **ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ30åˆ†ã¯çŸ­ã„ â†’ 4æ™‚é–“ï¼ˆ240åˆ†ï¼‰ã«å»¶é•·æ¨å¥¨
2. **æ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: `/home/vscode/.claude` ã¯è‡ªå‹•æ°¸ç¶šåŒ–
3. **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ¶é™**: ä¸€éƒ¨ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šãŒåˆ¶é™ã•ã‚Œã‚‹å ´åˆã‚ã‚Š
4. **ç’°å¢ƒå¤‰æ•°**: GitHub SecretsçµŒç”±ã§å®‰å…¨ã«è¨­å®šå¯èƒ½

---

## Claude Code CLIçµ±åˆã®ç†ç”±

### èƒŒæ™¯

**å•é¡Œ**: GitHub Codespacesç’°å¢ƒã§ã¯`claude`ã‚³ãƒãƒ³ãƒ‰ãŒæœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# Codespacesèµ·å‹•ç›´å¾Œ
$ claude
/bin/sh: 1: claude: not found
```

### è§£æ±ºç­–ã®é¸æŠè‚¢

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³A: Dockerfileã«çµ„ã¿è¾¼ã‚€ï¼ˆâœ… æ¡ç”¨ï¼‰

**ãƒ¡ãƒªãƒƒãƒˆ**:
- ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã«çµ„ã¿è¾¼ã¾ã‚Œã‚‹ãŸã‚æ¯å›ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸è¦
- ãƒ–ãƒ©ãƒ³ãƒåˆ‡ã‚Šæ›¿ãˆãƒ»Codespaceså†ä½œæˆã«å®Œå…¨å¯¾å¿œ
- ãƒ—ãƒªãƒ“ãƒ«ãƒ‰æ©Ÿèƒ½æ´»ç”¨ã§èµ·å‹•æ™‚é–“çŸ­ç¸®
- é«˜é€Ÿèµ·å‹•ï¼ˆç´„3-5åˆ†å‰Šæ¸›ï¼‰

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- DevContainerå†ãƒ“ãƒ«ãƒ‰ãŒå¿…è¦ï¼ˆåˆå›ã®ã¿ï¼‰

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³B: postCreateCommandã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆâŒ ä¸æ¡ç”¨ï¼‰

**ãƒ¡ãƒªãƒƒãƒˆ**:
- Dockerfileã®å¤‰æ›´ä¸è¦

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•ã”ã¨ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆç´„30ç§’ï½1åˆ†ã®é…å»¶ï¼‰
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯éšœå®³æ™‚ã«å¤±æ•—ãƒªã‚¹ã‚¯
- ãƒ—ãƒªãƒ“ãƒ«ãƒ‰æ©Ÿèƒ½æœªæ´»ç”¨

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³C: æ‰‹å‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆâŒ ä¸æ¡ç”¨ï¼‰

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- ãƒ–ãƒ©ãƒ³ãƒåˆ‡ã‚Šæ›¿ãˆæ™‚ã«å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¿…è¦
- Codespaceså†ä½œæˆæ™‚ã«å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¿…è¦
- å†ç¾æ€§ãªã—

### æœ€çµ‚åˆ¤æ–­

**Dockerfileçµ„ã¿è¾¼ã¿æ–¹å¼ã‚’æ¡ç”¨** - å†ç¾æ€§ãƒ»åŠ¹ç‡æ€§ãƒ»ä¿å®ˆæ€§ã®ãƒãƒ©ãƒ³ã‚¹ãŒæœ€è‰¯

---

## æ§‹ç¯‰æ‰‹é †

### Step 1: Dockerfileä¿®æ­£

**ãƒ•ã‚¡ã‚¤ãƒ«**: `.devcontainer/Dockerfile`

**è¿½åŠ ç®‡æ‰€**: 33-36è¡Œç›®ï¼ˆæ—¢å­˜ã®Playwrightã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼‰ã®å¾Œ

#### ä¿®æ­£å‰

```dockerfile
# ã‚°ãƒ­ãƒ¼ãƒãƒ«npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
RUN npm install -g \
    # Playwrightï¼ˆE2Eãƒ†ã‚¹ãƒˆï¼‰
    @playwright/test \
    playwright

# Playwrightãƒ–ãƒ©ã‚¦ã‚¶ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ»E2Eãƒ†ã‚¹ãƒˆç”¨ï¼‰
RUN npx playwright install --with-deps chromium
```

#### ä¿®æ­£å¾Œ

```dockerfile
# ã‚°ãƒ­ãƒ¼ãƒãƒ«npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
RUN npm install -g \
    # Playwrightï¼ˆE2Eãƒ†ã‚¹ãƒˆï¼‰
    @playwright/test \
    playwright

# Claude Code CLIã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆGitHub Codespacesçµ±åˆï¼‰
ARG CLAUDE_CODE_VERSION=latest
RUN npm install -g @anthropic-ai/claude-code@${CLAUDE_CODE_VERSION}

# Playwrightãƒ–ãƒ©ã‚¦ã‚¶ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ»E2Eãƒ†ã‚¹ãƒˆç”¨ï¼‰
RUN npx playwright install --with-deps chromium
```

#### ä¿®æ­£å†…å®¹ã®èª¬æ˜

1. **ARG CLAUDE_CODE_VERSION=latest**
   - ãƒ“ãƒ«ãƒ‰æ™‚ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šå¯èƒ½
   - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯`latest`ï¼ˆæœ€æ–°ç‰ˆï¼‰
   - ç‰¹å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³å›ºå®šã‚‚å¯èƒ½ï¼ˆä¾‹: `ARG CLAUDE_CODE_VERSION=1.2.3`ï¼‰

2. **RUN npm install -g @anthropic-ai/claude-code@${CLAUDE_CODE_VERSION}**
   - ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆå…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§åˆ©ç”¨å¯èƒ½ï¼‰
   - rootãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆPlaywrightã¨åŒæ§˜ï¼‰
   - ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã«çµ„ã¿è¾¼ã¾ã‚Œã‚‹

3. **é…ç½®å ´æ‰€ã®ç†ç”±**
   - Node.js 24.xã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œï¼ˆ27-30è¡Œç›®ï¼‰
   - Playwrightã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç›´å¾Œï¼ˆ33-36è¡Œç›®ï¼‰
   - érootãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆå‰ï¼ˆ41-47è¡Œç›®ï¼‰

---

## Claudeèªè¨¼è¨­å®š

### ğŸ”´ é‡è¦ï¼šAPI Keyä¸è¦ï¼ˆMax Planã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³åˆ©ç”¨ï¼‰

**Claude Code CLIã¯Max Planã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã§èªè¨¼ã—ã¾ã™ã€‚API Keyè¨­å®šã¯ä¸è¦ã§ã™ã€‚**

#### èªè¨¼æ–¹æ³•

Claude Code CLIèµ·å‹•æ™‚ã«**ãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒ­ã‚°ã‚¤ãƒ³**ã—ã¾ã™ï¼š

```bash
claude
# â†’ ãƒ–ãƒ©ã‚¦ã‚¶ãŒé–‹ã â†’ Max Planã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ â†’ èªè¨¼å®Œäº†
```

#### Max Planã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã®ãƒ¡ãƒªãƒƒãƒˆ

| é …ç›® | Max Plan | API Key |
|------|----------|---------|
| **æ–™é‡‘** | $100/æœˆï¼ˆå›ºå®šï¼‰ | å¾“é‡èª²é‡‘ï¼ˆä½¿ç”¨é‡æ¬¡ç¬¬ï¼‰ |
| **è¿½åŠ ã‚³ã‚¹ãƒˆ** | ãªã— | APIä½¿ç”¨æ–™é‡‘ãŒç™ºç”Ÿ |
| **MCP Serverä½¿ç”¨** | ç„¡æ–™ï¼ˆãƒ—ãƒ©ãƒ³å†…ï¼‰ | è¿½åŠ èª²é‡‘ |
| **èªè¨¼** | ãƒ–ãƒ©ã‚¦ã‚¶ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆ1å›ï¼‰ | API Keyè¨­å®šå¿…è¦ |

#### âš ï¸ èª¤ã£ãŸAPI Keyè¨­å®šã«æ³¨æ„

**GitHub Secretsã§`ANTHROPIC_API_KEY`ã‚’è¨­å®šã—ãªã„ã§ãã ã•ã„ã€‚**

ã‚‚ã—è¨­å®šã—ã¦ã—ã¾ã£ãŸå ´åˆï¼š
1. Claudeèµ·å‹•æ™‚ã«ã€ŒDetected a custom API keyã€ã¨è¡¨ç¤ºã•ã‚Œã‚‹
2. [Yes]ã‚’é¸æŠã™ã‚‹ã¨**APIå¾“é‡èª²é‡‘ã«åˆ‡ã‚Šæ›¿ã‚ã‚‹**
3. Max Planã§ã¯ãªãè¿½åŠ æ–™é‡‘ãŒç™ºç”Ÿ

**è§£æ±ºç­–**ï¼šGitHub Secretsã‹ã‚‰API Keyã‚’å‰Šé™¤ï¼ˆå¾Œè¿°ï¼‰

### ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šï¼ˆæ¨å¥¨ï¼‰

**ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ**: 30åˆ†ï¼ˆçŸ­ã™ãã‚‹ï¼‰
**æ¨å¥¨**: 240åˆ†ï¼ˆ4æ™‚é–“ï¼‰

**æ‰‹é †**:

1. **GitHub Settings â†’ Codespaces**
   ```
   https://github.com/settings/codespaces
   ```

2. **Default idle timeout**
   - ã€Œ240 minutesã€ã«å¤‰æ›´
   - ã€ŒUpdateã€ã‚’ã‚¯ãƒªãƒƒã‚¯

---

## DevContainerå†ãƒ“ãƒ«ãƒ‰

### GitHub Codespacesç’°å¢ƒã§ã®å†ãƒ“ãƒ«ãƒ‰

#### æ–°è¦Codespacesä½œæˆï¼ˆæ¨å¥¨ï¼‰

**æ‰‹é †**:

1. **æ—¢å­˜Codespacesã‚’å‰Šé™¤**ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
   - GitHub ãƒªãƒã‚¸ãƒˆãƒªãƒšãƒ¼ã‚¸ â†’ ã€ŒCodeã€ãƒœã‚¿ãƒ³ â†’ ã€ŒCodespacesã€ã‚¿ãƒ–
   - ã€Œ...ã€â†’ ã€ŒDeleteã€

2. **æ–°è¦Codespacesä½œæˆ**
   - ã€ŒCodeã€ãƒœã‚¿ãƒ³ â†’ ã€ŒCodespacesã€ã‚¿ãƒ–
   - ã€ŒCreate codespace on feature/PhaseB-F2ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
   - DevContainerè‡ªå‹•ãƒ“ãƒ«ãƒ‰é–‹å§‹ï¼ˆç´„5-8åˆ†ï¼‰

3. **ãƒ“ãƒ«ãƒ‰å®Œäº†å¾…æ©Ÿ**
   - ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼è¡¨ç¤º
   - å®Œäº†å¾Œã€VS Code Webç‰ˆãŒè‡ªå‹•çš„ã«é–‹ã

#### æ—¢å­˜Codespacesã®å†ãƒ“ãƒ«ãƒ‰

**æ‰‹é †**:

1. **Codespacesã‚’é–‹ã**
   - æ—¢å­˜Codespacesã«æ¥ç¶š

2. **ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆèµ·å‹•**
   - `Ctrl+Shift+P` (Windows/Linux)
   - `Cmd+Shift+P` (Mac)

3. **ã€ŒCodespaces: Rebuild Containerã€ã‚’é¸æŠ**
   - æ¤œç´¢æ¬„ã«ã€Œrebuildã€ã¨å…¥åŠ›
   - ã€ŒCodespaces: Rebuild Containerã€ã‚’é¸æŠ
   - ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§ã€ŒRebuildã€ã‚’ã‚¯ãƒªãƒƒã‚¯

4. **å†ãƒ“ãƒ«ãƒ‰å®Œäº†å¾…æ©Ÿ**ï¼ˆç´„3-5åˆ†ï¼‰

### ãƒ­ãƒ¼ã‚«ãƒ«DevContainerç’°å¢ƒã§ã®å†ãƒ“ãƒ«ãƒ‰

**æ‰‹é †**:

1. **ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆèµ·å‹•**
   - `Ctrl+Shift+P` (Windows/Linux)
   - `Cmd+Shift+P` (Mac)

2. **ã€ŒDev Containers: Rebuild Containerã€ã‚’é¸æŠ**
   - æ¤œç´¢æ¬„ã«ã€Œrebuildã€ã¨å…¥åŠ›
   - ã€ŒDev Containers: Rebuild Containerã€ã‚’é¸æŠ

3. **å†ãƒ“ãƒ«ãƒ‰å®Œäº†å¾…æ©Ÿ**ï¼ˆç´„3-5åˆ†ï¼‰

---

## å‹•ä½œç¢ºèª

### Step 1: Claude Code CLIãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª

**Codespaces/DevContainerã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å®Ÿè¡Œ**:

```bash
claude --version
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**:
```
@anthropic-ai/claude-code/X.Y.Z
```

**ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆ**:
```bash
# ã‚¨ãƒ©ãƒ¼ä¾‹
/bin/sh: 1: claude: not found
```
â†’ [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°) ã‚’å‚ç…§

### Step 2: Claude Code CLIèµ·å‹•ãƒ»èªè¨¼

```bash
claude
```

**åˆå›èµ·å‹•æ™‚ã®å‹•ä½œ**:

1. **ãƒ–ãƒ©ã‚¦ã‚¶ãŒè‡ªå‹•çš„ã«é–‹ã**
   - èªè¨¼ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
   - Max Planã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³

2. **èªè¨¼å®Œäº†**
   - ãƒ–ãƒ©ã‚¦ã‚¶ã«ã€ŒAuthentication successfulã€ã¨è¡¨ç¤º
   - ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«æˆ»ã‚‹

3. **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¡¨ç¤º**
   ```
   Welcome to Claude Code!
   Claude>
   ```

**âš ï¸ API Keyæ¤œå‡ºæ™‚ã®å¯¾å¿œ**:

ã‚‚ã—ä»¥ä¸‹ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚ŒãŸå ´åˆï¼š
```
Detected a custom API key in your environment
ANTHROPIC_API_KEY: sk-ant-...
Do you want to use this API key?
```

â†’ **[No]ã‚’é¸æŠ** â†’ ãƒ–ãƒ©ã‚¦ã‚¶ãƒ­ã‚°ã‚¤ãƒ³ã«é€²ã‚€

**ç†ç”±**: API Keyä½¿ç”¨ã™ã‚‹ã¨å¾“é‡èª²é‡‘ã«åˆ‡ã‚Šæ›¿ã‚ã‚Šã€Max Planãƒ—ãƒ©ãƒ³å†…ã®ç„¡æ–™ä½¿ç”¨ãŒã§ããªããªã‚‹

### Step 3: ç°¡å˜ãªã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ

```bash
# Claude Codeå†…ã§å®Ÿè¡Œ
/help
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**:
- ãƒ˜ãƒ«ãƒ—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
- åˆ©ç”¨å¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰ä¸€è¦§

### Step 4: ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†

```bash
# Claude Codeå†…ã§å®Ÿè¡Œ
/exit
```

ã¾ãŸã¯ `Ctrl+D`

---

## ãƒ­ãƒ¼ã‚«ãƒ«DevContainerã¨ã®é•ã„

### å®Ÿè¡Œç’°å¢ƒ

| é …ç›® | ãƒ­ãƒ¼ã‚«ãƒ«DevContainer | GitHub Codespaces |
|------|---------------------|-------------------|
| Dockerå®Ÿè¡Œç’°å¢ƒ | ãƒ­ãƒ¼ã‚«ãƒ«Docker Desktop | GitHub managed |
| ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ | ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ | GitHub ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ |
| ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ | ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ã‚£ã‚¹ã‚¯ | Codespacesæ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ |
| Claudeèªè¨¼ | ãƒ–ãƒ©ã‚¦ã‚¶ãƒ­ã‚°ã‚¤ãƒ³ | ãƒ–ãƒ©ã‚¦ã‚¶ãƒ­ã‚°ã‚¤ãƒ³ |

### Claude Code CLIå‹•ä½œ

| é …ç›® | ãƒ­ãƒ¼ã‚«ãƒ«DevContainer | GitHub Codespaces |
|------|---------------------|-------------------|
| ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³• | Dockerfileï¼ˆåŒä¸€ï¼‰ | Dockerfileï¼ˆåŒä¸€ï¼‰ |
| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | åŒä¸€ | åŒä¸€ |
| èªè¨¼æ–¹æ³• | ãƒ–ãƒ©ã‚¦ã‚¶ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆMax Planï¼‰ | ãƒ–ãƒ©ã‚¦ã‚¶ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆMax Planï¼‰ |
| MCP Serveræ¥ç¶š | ãƒ­ãƒ¼ã‚«ãƒ« | Codespaceså†… |

### PostgreSQLæ¥ç¶š

| é …ç›® | ãƒ­ãƒ¼ã‚«ãƒ«DevContainer | GitHub Codespaces |
|------|---------------------|-------------------|
| æ¥ç¶šå…ˆ | `Host=postgres` | `Host=postgres` |
| docker-compose | ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œ | Codespaceså®Ÿè¡Œ |
| PgAdmin | http://localhost:8080 | Codespaces Port Forward |

### æ³¨æ„äº‹é …

- **ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°**: Codespacesã¯è‡ªå‹•çš„ã«ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰è¨­å®š
- **æ°¸ç¶šåŒ–**: `/home/vscode/.claude` ã¯è‡ªå‹•æ°¸ç¶šåŒ–ï¼ˆè¨­å®šä¿æŒï¼‰
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: Codespacesã®æ–¹ãŒé«˜é€Ÿï¼ˆã‚¯ãƒ©ã‚¦ãƒ‰ç’°å¢ƒã®æ€§èƒ½ï¼‰

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ1: `claude: not found`

**ç—‡çŠ¶**:
```bash
$ claude
/bin/sh: 1: claude: not found
```

**åŸå› **:
- DevContainerãŒå†ãƒ“ãƒ«ãƒ‰ã•ã‚Œã¦ã„ãªã„
- Dockerfileä¿®æ­£ãŒåæ˜ ã•ã‚Œã¦ã„ãªã„

**è§£æ±ºç­–**:

1. **Codespaceså†ãƒ“ãƒ«ãƒ‰**
   ```
   Ctrl+Shift+P â†’ "Codespaces: Rebuild Container"
   ```

2. **æ–°è¦Codespacesä½œæˆ**
   - æ—¢å­˜å‰Šé™¤ â†’ æ–°è¦ä½œæˆ

3. **Dockerfileã®ç¢ºèª**
   ```bash
   cat .devcontainer/Dockerfile | grep -A 2 "Claude Code CLI"
   ```

   æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
   ```dockerfile
   # Claude Code CLIã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆGitHub Codespacesçµ±åˆï¼‰
   ARG CLAUDE_CODE_VERSION=latest
   RUN npm install -g @anthropic-ai/claude-code@${CLAUDE_CODE_VERSION}
   ```

---

### å•é¡Œ2: GitHub Secretsã§API Keyã‚’è¨­å®šã—ã¦ã—ã¾ã£ãŸ

**ç—‡çŠ¶**:
```bash
$ claude
Detected a custom API key in your environment
ANTHROPIC_API_KEY: sk-ant-...
Do you want to use this API key?
```

**åŸå› **:
- GitHub Secretsã§`ANTHROPIC_API_KEY`ã‚’è¨­å®šã—ãŸ
- Claudeèµ·å‹•æ™‚ã«API Keyèªè¨¼ã«åˆ‡ã‚Šæ›¿ã‚ã‚‹
- Max Planã§ã¯ãªãå¾“é‡èª²é‡‘ã«ãªã‚‹

**è§£æ±ºç­–**:

1. **GitHub Secretsã‹ã‚‰API Keyå‰Šé™¤**
   - https://github.com/[username]/ubiquitous-lang-mng/settings/secrets/codespaces
   - `ANTHROPIC_API_KEY`ã‚’å‰Šé™¤

2. **Codespaceså†èµ·å‹•**
   - ã€ŒCodeã€â†’ã€ŒCodespacesã€â†’ã€Œ...ã€â†’ã€ŒStop codespaceã€
   - ã€ŒStartã€ã§å†èµ·å‹•

3. **å†åº¦Claudeèµ·å‹•**
   ```bash
   claude
   # â†’ ãƒ–ãƒ©ã‚¦ã‚¶ãƒ­ã‚°ã‚¤ãƒ³ã«é€²ã‚€ï¼ˆAPI Keyæ¤œå‡ºãªã—ï¼‰
   ```

4. **ç·Šæ€¥ã®å ´åˆï¼ˆAPI Keyå‰Šé™¤å‰ï¼‰**
   - Claudeèµ·å‹•æ™‚ã«ã€ŒDo you want to use this API key?ã€â†’ **[No]ã‚’é¸æŠ**
   - ãƒ–ãƒ©ã‚¦ã‚¶ãƒ­ã‚°ã‚¤ãƒ³ã«é€²ã‚€

---

### å•é¡Œ3: DevContainerå†ãƒ“ãƒ«ãƒ‰ãŒå¤±æ•—ã™ã‚‹

**ç—‡çŠ¶**:
```
ERROR: failed to solve: process "/bin/sh -c npm install -g @anthropic-ai/claude-code@${CLAUDE_CODE_VERSION}" did not complete successfully
```

**åŸå› **:
- npm registryã¸ã®æ¥ç¶šå¤±æ•—
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ¶é™
- ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸ä¸€è‡´

**è§£æ±ºç­–**:

1. **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç¢ºèª**
   ```bash
   # Codespacesã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å®Ÿè¡Œ
   curl -I https://registry.npmjs.org
   ```

2. **ãƒãƒ¼ã‚¸ãƒ§ãƒ³å›ºå®š**ï¼ˆDockerfileä¿®æ­£ï¼‰
   ```dockerfile
   # latest â†’ ç‰¹å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³
   ARG CLAUDE_CODE_VERSION=1.2.3
   RUN npm install -g @anthropic-ai/claude-code@${CLAUDE_CODE_VERSION}
   ```

3. **å†ãƒ“ãƒ«ãƒ‰å†è©¦è¡Œ**
   ```
   Ctrl+Shift+P â†’ "Codespaces: Rebuild Container"
   ```

---

### å•é¡Œ4: ãƒ–ãƒ©ã‚¦ã‚¶ãƒ­ã‚°ã‚¤ãƒ³ãŒé–‹ã‹ãªã„

**ç—‡çŠ¶**:
```bash
$ claude
# ãƒ–ãƒ©ã‚¦ã‚¶ãŒé–‹ã‹ãªã„ã€ä½•ã‚‚èµ·ã“ã‚‰ãªã„
```

**åŸå› **:
- Codespacesç’°å¢ƒã§ã®ãƒ–ãƒ©ã‚¦ã‚¶èµ·å‹•å¤±æ•—
- VS Codeï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ç‰ˆï¼‰ã§ã®ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ–ãƒ­ãƒƒã‚¯

**è§£æ±ºç­–**:

1. **VS Codeï¼ˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç‰ˆï¼‰ã‚’ä½¿ç”¨**ï¼ˆæ¨å¥¨ï¼‰
   ```
   Command Palette (Ctrl+Shift+P)
   â†’ "Codespaces: Connect to Codespace"
   â†’ Codespaceé¸æŠ
   ```

2. **ãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—è¨±å¯**
   - Codespacesãƒšãƒ¼ã‚¸ã§ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ–ãƒ­ãƒƒã‚¯è§£é™¤
   - å†åº¦`claude`å®Ÿè¡Œ

3. **æ‰‹å‹•èªè¨¼ãƒªãƒ³ã‚¯ç¢ºèª**
   - ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«èªè¨¼URLãŒè¡¨ç¤ºã•ã‚Œã¦ã„ãªã„ã‹ç¢ºèª
   - è¡¨ç¤ºã•ã‚Œã¦ã„ã‚Œã°ã€ãã®URLã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã

4. **MCP Serverã®å ´åˆï¼ˆSerenaç­‰ï¼‰**
   - VS Codeï¼ˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç‰ˆï¼‰ä½¿ç”¨ã‚’å¼·ãæ¨å¥¨
   - ãƒ–ãƒ©ã‚¦ã‚¶ç‰ˆã§ã¯èµ·å‹•ã«æ™‚é–“ãŒã‹ã‹ã‚‹å ´åˆã‚ã‚Šï¼ˆ5-10åˆ†ï¼‰

---

### å•é¡Œ5: Codespacesèµ·å‹•æ™‚é–“ãŒé•·ã„ï¼ˆ10åˆ†ä»¥ä¸Šï¼‰

**ç—‡çŠ¶**:
- Codespacesèµ·å‹•ã«10åˆ†ä»¥ä¸Šã‹ã‹ã‚‹

**åŸå› **:
- ãƒ—ãƒªãƒ“ãƒ«ãƒ‰ãŒæœ‰åŠ¹åŒ–ã•ã‚Œã¦ã„ãªã„
- Dockerfileã®æœ€é©åŒ–ä¸è¶³

**è§£æ±ºç­–**:

1. **ãƒ—ãƒªãƒ“ãƒ«ãƒ‰æœ‰åŠ¹åŒ–**ï¼ˆãƒªãƒã‚¸ãƒˆãƒªè¨­å®šï¼‰
   - Settings â†’ Codespaces â†’ Prebuild configuration
   - ã€ŒEnable prebuildã€

2. **Dockerfileæœ€é©åŒ–**
   - ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ´»ç”¨
   - ä¸è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å‰Šé™¤

3. **åˆå›èµ·å‹•æ™‚ã®ã¿é…ã„å ´åˆ**
   - 2å›ç›®ä»¥é™ã¯é«˜é€ŸåŒ–ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥åˆ©ç”¨ï¼‰

---

## å‚è€ƒè³‡æ–™

### å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **GitHub Codespaces**: https://docs.github.com/en/codespaces
- **DevContainers**: https://containers.dev/
- **Claude Code CLI**: https://github.com/anthropics/claude-code

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **DevContainerä½¿ç”¨ã‚¬ã‚¤ãƒ‰**: `Doc/99_Others/DevContainerä½¿ç”¨ã‚¬ã‚¤ãƒ‰.md`
- **ADR_025**: `Doc/07_Decisions/ADR_025_DevContainer_Sandboxãƒ¢ãƒ¼ãƒ‰çµ±åˆ.md`
- **ç’°å¢ƒæ§‹ç¯‰æ‰‹é †æ›¸**: `Doc/99_Others/EnvironmentSetup/07_Development_Settings.md`

### æŠ€è¡“èª¿æŸ»è³‡æ–™

- **Phase B-F2æŠ€è¡“èª¿æŸ»**: `Doc/08_Organization/Active/Phase_B-F2/Research/`
- **Issue #51æ¤œè¨¼çµæœ**: `Doc/99_Others/Issue_51_Phase1_æ¤œè¨¼çµæœ.md`

---

## ã¾ã¨ã‚

### å®Ÿè£…å®Œäº†å¾Œã®çŠ¶æ…‹

âœ… **Claude Code CLIãŒè‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
- ãƒ–ãƒ©ãƒ³ãƒåˆ‡ã‚Šæ›¿ãˆå¯¾å¿œ
- Codespaceså†ä½œæˆå¯¾å¿œ
- å†ç¾å¯èƒ½ãªé–‹ç™ºç’°å¢ƒ

âœ… **Claudeèªè¨¼è¨­å®šå®Œäº†**
- Max Planã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³åˆ©ç”¨ï¼ˆè¿½åŠ èª²é‡‘ãªã—ï¼‰
- ãƒ–ãƒ©ã‚¦ã‚¶ãƒ­ã‚°ã‚¤ãƒ³èªè¨¼ï¼ˆAPI Keyä¸è¦ï¼‰

âœ… **DevContainerå®Œå…¨çµ±åˆ**
- æ—¢å­˜ã®é–‹ç™ºç’°å¢ƒã«å½±éŸ¿ãªã—
- .NET SDKã€MCP Serverã€Playwrightç­‰ã™ã¹ã¦å‹•ä½œ

### ä»Šå¾Œã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°**: Dockerfileã®`CLAUDE_CODE_VERSION`ã‚’æ›´æ–°
- **æ–°ãƒ¡ãƒ³ãƒãƒ¼ã®ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°**: ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§
- **ãƒˆãƒ©ãƒ–ãƒ«æ™‚ã®å¯¾å¿œ**: ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§

---

**ä½œæˆæ—¥**: 2025-11-11
**æœ€çµ‚æ›´æ–°**: 2025-11-12ï¼ˆMax Planèªè¨¼æ–¹å¼ã«ä¿®æ­£ï¼‰
**é–¢é€£Issue**: #51ï¼ˆClaude Code on the Web ã«ã‚ˆã‚‹é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹è‡ªå‹•åŒ–ï¼‰

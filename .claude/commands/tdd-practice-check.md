# TDD実践確認Command

**目的**: Red-Green-Refactorサイクルの確実な実践確認  
**対象**: 全実装作業  
**連携**: unit-test SubAgent

## コマンド実行内容

### 1. Red-Green-Refactorサイクル実践記録確認

**Red Phase（テスト失敗）確認**:
- [ ] 新機能実装前にテストが作成されている
- [ ] テスト実行で期待通りに失敗することを確認済み
- [ ] 失敗理由が明確（実装未完了による失敗）

**Green Phase（最小実装）確認**:
- [ ] テストを通すための最小限の実装が行われている
- [ ] テスト実行で成功することを確認済み
- [ ] オーバーエンジニアリングを避けた実装

**Refactor Phase（品質改善）確認**:
- [ ] コードの品質改善・リファクタリングが実施されている
- [ ] リファクタリング後もテストが継続して成功
- [ ] 可読性・保守性の向上が図られている

### 2. テストファースト開発の実践確認

```bash
echo "🧪 TDD実践確認を開始..."
echo "Red-Green-Refactorサイクルの各フェーズを確認します"
```

**確認項目**:
- [ ] 各機能でテストが先行作成されたことの記録
- [ ] 実装よりもテスト設計が先行している証跡
- [ ] 仕様に基づくテストケース設計の妥当性

### 3. テスト品質・カバレッジ確認

**単体テスト品質**:
- [ ] AAA（Arrange-Act-Assert）パターンに従ったテスト構造
- [ ] テストケース名が実装内容を適切に表現
- [ ] 境界値・異常系テストケースの適切な実装

**テストカバレッジ**:
```bash
# テストカバレッジ確認（80%以上維持）
dotnet test --collect:"XPlat Code Coverage"
reportgenerator -reports:coverage.cobertura.xml -targetdir:coverage-report
```

- [ ] テストカバレッジ80%以上を維持
- [ ] 重要なビジネスロジックが100%カバー
- [ ] 未カバー領域の理由が明確（例外処理等）

### 4. F#・C#言語別TDD実践確認

**F# TDD実践**:
- [ ] Expecto、FsUnitを活用した関数型テスト
- [ ] Option型、Result型を考慮したテストケース
- [ ] パターンマッチング・判別共用体のテスト

**C# TDD実践**:
- [ ] xUnit.net、Moq、NSubstituteの適切な活用
- [ ] ASP.NET Core統合テストの実装
- [ ] TestWebApplicationFactoryを活用した統合テスト

### 5. テスト実行・継続的品質確認

```bash
# 全テスト実行・成功確認
echo "全テスト実行を開始..."
dotnet test --logger "console;verbosity=detailed"
echo "テスト実行結果を確認してください"
```

**確認項目**:
- [ ] 全単体テスト・統合テストが成功
- [ ] ビルドプロセスでテストが自動実行される
- [ ] テスト失敗時の適切なエラーメッセージ表示

## 改善点・課題記録

### TDD実践の改善点記録
- **効率化された点**: ________________
- **課題となった点**: ________________  
- **次回改善事項**: ________________

### テスト設計・実装の学習事項
- **新たな手法・パターン**: ________________
- **品質向上のポイント**: ________________
- **継続すべき実践**: ________________

## 実行後アクション
✅ TDD実践確認完了 → 次段階進行  
⚠️ 一部改善必要 → 改善実施後に再確認  
❌ 重要な問題あり → TDD実践やり直し

## 関連プロセス
- **unit-test SubAgent**: TDD実践・品質保証・カバレッジ管理
- **integration-test SubAgent**: 統合レベルでのTDD実践確認
- **技術負債管理**: テスト品質不足の負債記録
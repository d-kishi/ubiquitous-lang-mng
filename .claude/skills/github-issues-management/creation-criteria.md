# Issue作成判断基準

**目的**: GitHub Issue作成の判断基準を提供

**参照元**: `Doc/08_Organization/Rules/GitHub_Issues運用規則.md`

## 📊 Issue作成対象の判断

### ✅ Issue作成対象

以下のいずれかに該当する場合、GitHub Issue作成:

1. **技術的負債**
   - コード品質・保守性に関わる課題
   - コード重複・密結合・依存関係問題

2. **アーキテクチャ問題**
   - 設計原則・要件からの逸脱
   - Clean Architecture違反・層間依存問題

3. **設計整合性問題**
   - 設計書・仕様書との不整合
   - 要件定義からの逸脱

4. **品質課題**
   - パフォーマンス・セキュリティ・テスト関連
   - 脆弱性・処理速度問題

5. **保守性改善**
   - リファクタリング・コード改善要求
   - 可読性・テスト性向上

### ❌ Issue作成対象外

以下に該当する場合、GitHub Issue作成不要:

1. **日常的なバグ**
   - 通常のバグレポート・修正
   - 単純な実装ミス・typo

2. **新機能要求**
   - Phase計画で管理される機能追加
   - ユーザーストーリー・要件追加

3. **ドキュメント更新**
   - 単純な文書修正
   - typo修正・表記統一

4. **設定変更**
   - 環境・設定ファイルの調整
   - 開発環境の設定変更

---

## 🔍 作成判断基準（4基準）

Issue作成対象に該当する場合でも、以下の**4基準のいずれか**を満たす場合のみIssue作成:

### 基準1: 影響範囲

**判断基準**: 複数ファイル・モジュールに影響

**例**:
- ✅ 3ファイルに同一ロジック重複 → Issue作成
- ❌ 1ファイル内のtypo → Issue作成不要

### 基準2: 作業時間

**判断基準**: 1時間以上の作業が見込まれる

**例**:
- ✅ Clean Architecture違反修正（見積: 3時間） → Issue作成
- ❌ コメント追加（見積: 10分） → Issue作成不要

### 基準3: 品質影響

**判断基準**: 品質・保守性・拡張性に影響

**例**:
- ✅ セキュリティ脆弱性 → Issue作成
- ❌ ログ出力レベル変更 → Issue作成不要

### 基準4: 要件逸脱

**判断基準**: 要件定義・設計書からの逸脱

**例**:
- ✅ UI設計書と実装の不一致 → Issue作成
- ❌ コードフォーマット統一 → Issue作成不要

---

## 🎯 判断フローチャート

```
問題・課題の発生
  ↓
┌─────────────────────────────────────────┐
│ Issue作成対象か？（✅/❌判定）            │
│ ・技術的負債                             │
│ ・アーキテクチャ問題                     │
│ ・設計整合性問題                         │
│ ・品質課題                               │
│ ・保守性改善                             │
└─────────────────────────────────────────┘
  NO → Phase計画管理 or 即座対応
  YES ↓
┌─────────────────────────────────────────┐
│ 4基準のいずれかを満たすか？              │
│ 1. 影響範囲: 複数ファイル・モジュール    │
│ 2. 作業時間: 1時間以上                  │
│ 3. 品質影響: 品質・保守性・拡張性        │
│ 4. 要件逸脱: 要件定義・設計書からの逸脱  │
└─────────────────────────────────────────┘
  NO → 即座対応（Issue作成不要）
  YES ↓
  GitHub Issue作成
```

---

## 📝 具体的な判断例

### 例1: コード重複（3ファイル）

**問題**: 同一ロジックが3ファイルに散在

**判断**:
- Issue作成対象: ✅（技術的負債）
- 基準1（影響範囲）: ✅（複数ファイル）
- 基準2（作業時間）: ✅（見積: 2時間）
- 基準3（品質影響）: ✅（保守性低下）

**結論**: ✅ **Issue作成**

### 例2: typo修正（1箇所）

**問題**: 変数名のtypo（1ファイル・1箇所）

**判断**:
- Issue作成対象: ❌（日常的なバグ）

**結論**: ❌ **Issue作成不要**（即座対応）

### 例3: Clean Architecture違反

**問題**: Web層が直接Domain層を参照

**判断**:
- Issue作成対象: ✅（アーキテクチャ問題）
- 基準1（影響範囲）: ✅（複数ファイル）
- 基準2（作業時間）: ✅（見積: 3時間）
- 基準3（品質影響）: ✅（保守性・拡張性低下）
- 基準4（要件逸脱）: ✅（設計原則違反）

**結論**: ✅ **Issue作成**

### 例4: UI設計書との不一致

**問題**: ログイン画面のUI構成が設計書と不一致

**判断**:
- Issue作成対象: ✅（設計整合性問題）
- 基準1（影響範囲）: ✅（複数ファイル）
- 基準2（作業時間）: ✅（見積: 2時間）
- 基準4（要件逸脱）: ✅（設計書からの逸脱）

**結論**: ✅ **Issue作成**

### 例5: コメント追加

**問題**: 複雑なロジックにコメント不足

**判断**:
- Issue作成対象: ✅（保守性改善）
- 基準1（影響範囲）: ❌（1ファイル）
- 基準2（作業時間）: ❌（見積: 30分）
- 基準3（品質影響）: △（軽微な保守性向上）

**結論**: ❌ **Issue作成不要**（即座対応）

### 例6: セキュリティ脆弱性

**問題**: SQLインジェクション脆弱性

**判断**:
- Issue作成対象: ✅（品質課題）
- 基準1（影響範囲）: ✅（複数ファイル）
- 基準2（作業時間）: ✅（見積: 4時間）
- 基準3（品質影響）: ✅（セキュリティリスク）

**結論**: ✅ **Issue作成**（優先度: `priority/critical`）

### 例7: パフォーマンス問題

**問題**: ユーザー一覧取得API処理時間5秒（目標: 1秒以内）

**判断**:
- Issue作成対象: ✅（品質課題）
- 基準1（影響範囲）: ✅（複数ファイル）
- 基準2（作業時間）: ✅（見積: 2時間）
- 基準3（品質影響）: ✅（パフォーマンス低下）

**結論**: ✅ **Issue作成**

### 例8: 新機能要求

**問題**: ユーザー削除機能の追加要求

**判断**:
- Issue作成対象: ❌（新機能要求）

**結論**: ❌ **Issue作成不要**（Phase計画で管理）

---

## 🎨 グレーゾーンの判断

### グレーゾーン1: 作業時間30分～1時間

**判断基準**:
- 他の基準を満たすか確認
- 品質影響が大きければIssue作成

**例**:
- 作業時間: 45分
- 品質影響: セキュリティリスク
- **結論**: ✅ Issue作成（品質影響を重視）

### グレーゾーン2: 1ファイル内の複雑な修正

**判断基準**:
- 作業時間が1時間以上か確認
- 品質影響が大きければIssue作成

**例**:
- 影響範囲: 1ファイル
- 作業時間: 2時間
- 品質影響: 保守性大幅向上
- **結論**: ✅ Issue作成（作業時間・品質影響を重視）

### グレーゾーン3: 軽微な設計逸脱

**判断基準**:
- 要件逸脱の重要度を評価
- ユーザー影響があればIssue作成

**例**:
- 要件逸脱: UI設計書の軽微な不一致（ボタン配置）
- ユーザー影響: なし
- **結論**: ❌ Issue作成不要（即座対応）

---

## 🚀 Issue作成 vs Phase計画管理 vs 即座対応

### Issue作成（GitHub Issues）

**対象**:
- 技術的負債・アーキテクチャ問題・品質課題
- 4基準のいずれかを満たす

**管理方法**:
- GitHub Issues
- ラベル体系による分類・優先度管理

### Phase計画管理（Phase組織設計書）

**対象**:
- 新機能要求
- ユーザーストーリー・要件追加

**管理方法**:
- Phase_Summary.md
- Step組織設計書

### 即座対応（Issue作成不要）

**対象**:
- 日常的なバグ
- 単純な文書修正・設定変更
- 4基準を満たさない軽微な課題

**管理方法**:
- 即座に修正・コミット
- 記録不要

---

## 📊 判断基準マトリックス（まとめ）

| 問題種別 | Issue作成対象 | 影響範囲 | 作業時間 | 品質影響 | 要件逸脱 | 判断 |
|---------|--------------|---------|---------|---------|---------|------|
| コード重複（3ファイル） | ✅ | ✅ | ✅ | ✅ | - | ✅ Issue作成 |
| typo（1箇所） | ❌ | - | - | - | - | ❌ 即座対応 |
| Clean Architecture違反 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ Issue作成 |
| UI設計書不一致 | ✅ | ✅ | ✅ | - | ✅ | ✅ Issue作成 |
| コメント追加 | ✅ | ❌ | ❌ | △ | - | ❌ 即座対応 |
| セキュリティ脆弱性 | ✅ | ✅ | ✅ | ✅ | - | ✅ Issue作成 |
| パフォーマンス問題 | ✅ | ✅ | ✅ | ✅ | - | ✅ Issue作成 |
| 新機能要求 | ❌ | - | - | - | - | ❌ Phase計画管理 |

---

## ⚠️ 注意事項

### 1. 迷った時は Issue作成

**原則**: 判断に迷った場合、Issue作成を優先

**理由**:
- 追跡性の確保
- 後からクローズ可能
- チーム共有による判断精度向上

### 2. 外部依存の問題

**例**: VSCode拡張機能のバグ（C# Dev Kit）

**判断**:
- Issue作成対象: ❌（外部依存・技術的負債ではない）
- **対応**: 標準ラベル（`bug`）でIssue作成
- **理由**: 監視・追跡のため

### 3. Phase計画との整合性

**原則**: Phase計画で管理される内容はIssue作成不要

**例外**: Phase実施中に発見された技術的負債は即座にIssue作成

---

**最終更新**: 2025-11-15
